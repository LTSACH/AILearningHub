<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classification - Oxford Pets | AI Learning Hub</title>
    
    <!-- Load shared components from centralized library -->
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/themes/default.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/header.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/hero.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/comparison.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/theme-selector.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/language-switcher.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/pipeline.css">
    
    <!-- Custom styles -->
    <style>
        
        .models-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--ai-spacing-lg);
            margin: var(--ai-spacing-xl) 0;
        }
        
        .model-card {
            background: var(--ai-bg);
            border: 1px solid var(--ai-border);
            border-radius: var(--ai-radius-lg);
            padding: var(--ai-spacing-lg);
            transition: all var(--ai-transition-normal);
            text-decoration: none;
            color: inherit;
            display: block;
        }
        
        .model-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--ai-shadow-lg);
            border-color: var(--ai-primary);
        }
        
        .comparison-table .metric-value.best {
            background: linear-gradient(135deg, #4CAF50, #45a049) !important;
            color: white !important;
            font-weight: bold !important;
            padding: 4px 8px !important;
            border-radius: 4px !important;
            box-shadow: 0 2px 4px rgba(76, 175, 80, 0.3) !important;
            display: inline-block !important;
        }
        
        .comparison-table .metric-value.good {
            background: none !important;
            color: inherit !important;
            font-weight: normal !important;
            padding: 2px 6px !important;
            border-radius: 3px !important;
            box-shadow: none !important;
        }
        
        .metric-value {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 3px;
            transition: all 0.2s ease;
        }
        
    </style>
</head>
<body>
    <!-- Header -->
    <div id="ai-header"></div>

    <!-- Language Switcher (Top-right) -->
    <div id="language-switcher" class="ai-language-switcher fixed"></div>

    <div class="ai-container">
        
    <!-- Hero Section -->
    <div id="ai-hero"></div>
    
    <!-- Pipeline Section -->
    <section class="ai-section">
        <h2 class="ai-heading-2" data-en="üîÑ Pipeline" data-vi="üîÑ Quy Tr√¨nh">üîÑ Pipeline</h2>
        <p class="ai-text-light" style="font-size: var(--ai-font-size-lg); margin-bottom: 2rem;" 
           data-en="Computer Vision classification pipeline with CNN architectures"
           data-vi="Quy tr√¨nh ph√¢n lo·∫°i th·ªã gi√°c m√°y t√≠nh v·ªõi ki·∫øn tr√∫c CNN">
            Computer Vision classification pipeline with CNN architectures
        </p>
        
        <!-- Pipeline Tabs -->
        <div class="pipeline-section">
            <!-- Tabs -->
            <div class="pipeline-tabs">
                <button class="pipeline-tab-btn active" onclick="switchPipelineTab('pipeline')">
                    üîÑ Pipeline
                </button>
                <button class="pipeline-tab-btn" onclick="switchPipelineTab('tutorials')">
                    üìö Tutorials
                </button>
                <button class="pipeline-tab-btn" onclick="switchPipelineTab('code')">
                    üíª Code
                </button>
                <button class="pipeline-tab-btn" onclick="switchPipelineTab('colab')">
                    üöÄ Colab
                </button>
            </div>
            
            <!-- Tab 1: Pipeline (default) -->
            <div id="pipeline-tab" class="pipeline-tab-content active">
                <div class="pipeline-flow">
                    <div class="step step-fixed" onclick="switchPipelineDetailTab('input')">
                        <div class="step-icon">üñºÔ∏è</div>
                        <div class="step-title" data-en="Image Input" data-vi="ƒê·∫ßu V√†o ·∫¢nh">Image Input</div>
                        <div class="step-detail" data-en="224√ó224 RGB images" data-vi="·∫¢nh RGB 224√ó224">224√ó224 RGB images</div>
                    </div>
                    
                    <div class="arrow">‚Üí</div>
                    
                    <div class="step step-fixed" onclick="switchPipelineDetailTab('preprocessing')">
                        <div class="step-icon">üîß</div>
                        <div class="step-title" data-en="Preprocessing" data-vi="Ti·ªÅn X·ª≠ L√Ω">Preprocessing</div>
                        <div class="step-badge" data-en="Fixed" data-vi="C·ªë ƒê·ªãnh">Fixed</div>
                        <div class="step-detail" data-en="Normalize, Resize" data-vi="Chu·∫©n h√≥a, Thay ƒë·ªïi k√≠ch th∆∞·ªõc">Normalize, Resize</div>
                    </div>
                    
                    <div class="arrow">‚Üí</div>
                    
                    <div class="step step-interactive" onclick="switchPipelineDetailTab('cnn-model')">
                        <div class="step-icon">üß†</div>
                        <div class="step-title" data-en="CNN Model" data-vi="M√¥ H√¨nh CNN">CNN Model</div>
                        <div class="step-badge" data-en="Choose Below" data-vi="Ch·ªçn B√™n D∆∞·ªõi">Choose Below</div>
                        <div class="step-detail" data-en="ResNet50, EfficientNet, MobileNet..." data-vi="ResNet50, EfficientNet, MobileNet...">ResNet50, EfficientNet, MobileNet...</div>
                    </div>
                    
                    <div class="arrow">‚Üí</div>
                    
                    <div class="step step-fixed" onclick="switchPipelineDetailTab('classifier-head')">
                        <div class="step-icon">üéØ</div>
                        <div class="step-title" data-en="Classifier Head" data-vi="ƒê·∫ßu Ph√¢n Lo·∫°i">Classifier Head</div>
                        <div class="step-badge" data-en="Adapted" data-vi="ƒêi·ªÅu Ch·ªânh">Adapted</div>
                        <div class="step-detail" data-en="1000 ‚Üí 37 classes" data-vi="1000 ‚Üí 37 l·ªõp">1000 ‚Üí 37 classes</div>
                    </div>
                    
                    <div class="arrow">‚Üí</div>
                    
                    <div class="step step-result" onclick="switchPipelineDetailTab('results')">
                        <div class="step-icon">‚ú®</div>
                        <div class="step-title" data-en="Classification Results" data-vi="K·∫øt Qu·∫£ Ph√¢n Lo·∫°i">Classification Results</div>
                        <div class="step-detail" data-en="37 breed predictions" data-vi="D·ª± ƒëo√°n 37 gi·ªëng">37 breed predictions</div>
                    </div>
                </div>
                
                <!-- Pipeline Detail Tabs -->
                <div class="pipeline-detail-tabs">
                    <!-- Collapsible Navigation -->
                    <div class="pipeline-navigation">
                        <div class="nav-header" onclick="togglePipelineNav()">
                            <h4>üìö CNN Pipeline Tutorials</h4>
                            <div class="nav-toggle">
                                <span class="nav-icon">‚ñº</span>
                                <span class="nav-text">Quick Navigation</span>
                            </div>
                        </div>
                        <div class="pipeline-detail-tab-buttons" id="pipeline-nav-buttons">
                            <button class="pipeline-detail-tab-btn active" onclick="switchPipelineDetailTab('input')">
                                <span class="tab-icon">üñºÔ∏è</span>
                                <span class="tab-title">Input Image</span>
                                <span class="tab-desc">Tensor formats & data loading</span>
                            </button>
                            <button class="pipeline-detail-tab-btn" onclick="switchPipelineDetailTab('preprocessing')">
                                <span class="tab-icon">üîß</span>
                                <span class="tab-title">Preprocessing</span>
                                <span class="tab-desc">Image transforms & normalization</span>
                            </button>
                            <button class="pipeline-detail-tab-btn" onclick="switchPipelineDetailTab('cnn-model')">
                                <span class="tab-icon">üß†</span>
                                <span class="tab-title">CNN Model</span>
                                <span class="tab-desc">Architecture & transfer learning</span>
                            </button>
                            <button class="pipeline-detail-tab-btn" onclick="switchPipelineDetailTab('classifier-head')">
                                <span class="tab-icon">üéØ</span>
                                <span class="tab-title">Classifier Head</span>
                                <span class="tab-desc">Adapting for specific tasks</span>
                            </button>
                            <button class="pipeline-detail-tab-btn" onclick="switchPipelineDetailTab('results')">
                                <span class="tab-icon">‚ú®</span>
                                <span class="tab-title">Classification Results</span>
                                <span class="tab-desc">Evaluation & metrics</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Input Image Detail Tab -->
                    <div id="input-detail-tab" class="pipeline-detail-tab-content active">
                        <div class="pipeline-detail-content">
                            <h3>üì∏ Input Image Pipeline</h3>
                            <p class="pipeline-detail-intro">Technical aspects of preparing input data for CNN models: tensor formats, data loading, and preprocessing.</p>
                            
                            <!-- Tensor Format & Dimensions -->
                            <div class="detail-group">
                                <h4>üìê Input Tensor Format</h4>
                                <p class="group-description">CNN models require 4D tensors with specific dimension ordering for efficient computation.</p>
                                
                                <div class="tensor-format-card">
                                    <div class="tensor-formula">
                                        <strong>Shape: (N, C, H, W)</strong>
                                    </div>
                                    <div class="dimension-list">
                                        <div class="dimension-item">
                                            <span class="dimension-symbol">N</span>
                                            <span class="dimension-name">Batch Size</span>
                                            <span class="dimension-desc">Number of images in batch (e.g., 32, 64, 128)</span>
                                        </div>
                                        <div class="dimension-item">
                                            <span class="dimension-symbol">C</span>
                                            <span class="dimension-name">Channels</span>
                                            <span class="dimension-desc">Color channels (3 for RGB, 1 for grayscale)</span>
                                        </div>
                                        <div class="dimension-item">
                                            <span class="dimension-symbol">H</span>
                                            <span class="dimension-name">Height</span>
                                            <span class="dimension-desc">Image height in pixels (e.g., 224, 256, 512)</span>
                                        </div>
                                        <div class="dimension-item">
                                            <span class="dimension-symbol">W</span>
                                            <span class="dimension-name">Width</span>
                                            <span class="dimension-desc">Image width in pixels (e.g., 224, 256, 512)</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="architecture-examples">
                                    <h5>Architecture-Specific Dimensions:</h5>
                                    <div class="example-grid">
                                        <div class="example-card">
                                            <h6>VGG16</h6>
                                            <div class="code-example">
                                                <pre><code class="language-python">input_shape = (N, 3, 224, 224)
memory_per_image = 3.2MB</code></pre>
                                            </div>
                                        </div>
                                        <div class="example-card">
                                            <h6>ResNet50</h6>
                                            <div class="code-example">
                                                <pre><code class="language-python">input_shape = (N, 3, 224, 224)
memory_per_image = 3.2MB</code></pre>
                                            </div>
                                        </div>
                                        <div class="example-card">
                                            <h6>EfficientNet-B3</h6>
                                            <div class="code-example">
                                                <pre><code class="language-python">input_shape = (N, 3, 300, 300)
memory_per_image = 5.4MB</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Channel Ordering -->
                            <div class="detail-group">
                                <h4>üîÑ Channel Ordering: PyTorch vs TensorFlow</h4>
                                <p class="group-description">Understanding the difference between channel-first and channel-last memory layouts.</p>
                                
                                <div class="channel-comparison">
                                    <div class="framework-card">
                                        <h5>üêç PyTorch (Channel-First)</h5>
                                        <div class="code-example">
                                            <pre><code class="language-python"># PyTorch tensor format
tensor.shape = (N, C, H, W)
# Example: (32, 3, 224, 224)

# Memory layout: [batch, channels, height, width]
# More efficient for GPU operations</code></pre>
                                        </div>
                                        <div class="framework-features">
                                            <ul>
                                                <li>Default for PyTorch models</li>
                                                <li>More efficient for GPU operations</li>
                                                <li>Native format for torchvision</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="framework-card">
                                        <h5>üîß TensorFlow/Keras (Channel-Last)</h5>
                                        <div class="code-example">
                                            <pre><code class="language-python"># TensorFlow tensor format
tensor.shape = (N, H, W, C)
# Example: (32, 224, 224, 3)

# Memory layout: [batch, height, width, channels]
# More intuitive for image processing</code></pre>
                                        </div>
                                        <div class="framework-features">
                                            <ul>
                                                <li>Default for TensorFlow models</li>
                                                <li>More intuitive for image processing</li>
                                                <li>Standard in computer vision</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="conversion-section">
                                    <h5>‚ö†Ô∏è Conversion Between Frameworks:</h5>
                                    <div class="code-example">
                                        <pre><code class="language-python"># PyTorch to TensorFlow
tensor_tf = torch.permute(tensor_pt, (0, 2, 3, 1))

# TensorFlow to PyTorch  
tensor_pt = torch.permute(tensor_tf, (0, 3, 1, 2))

# Using torchvision.transforms
from torchvision.transforms import ToTensor, ToPILImage
tensor = ToTensor()(pil_image)  # PIL ‚Üí PyTorch tensor</code></pre>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Dataset & DataLoader -->
                            <div class="detail-group">
                                <h4>üìö PyTorch Dataset & DataLoader</h4>
                                <p class="group-description">Implementing efficient data loading with PyTorch's Dataset and DataLoader classes.</p>
                                
                                <div class="dataset-section">
                                    <h5>üéØ Custom Dataset Class</h5>
                                    <div class="code-example">
                                        <pre><code class="language-python">import torch
from torch.utils.data import Dataset, DataLoader
from PIL import Image
import os

class OxfordPetsDataset(Dataset):
    def __init__(self, image_dir, transform=None):
        self.image_dir = image_dir
        self.transform = transform
        self.samples = self._load_samples()
    
    def _load_samples(self):
        """Load image paths and labels"""
        samples = []
        for breed in os.listdir(self.image_dir):
            breed_dir = os.path.join(self.image_dir, breed)
            for img_name in os.listdir(breed_dir):
                img_path = os.path.join(breed_dir, img_name)
                samples.append((img_path, breed))
        return samples
    
    def __len__(self):
        return len(self.samples)
    
    def __getitem__(self, idx):
        image_path, label = self.samples[idx]
        image = Image.open(image_path).convert('RGB')
        
        if self.transform:
            image = self.transform(image)
            
        return image, label</code></pre>
                                    </div>
                                    
                                    <div class="principle-card">
                                        <h6>üí° Key Principles:</h6>
                                        <ul>
                                            <li><strong>Lazy Loading:</strong> Images loaded only when needed</li>
                                            <li><strong>Transform Pipeline:</strong> Preprocessing applied on-the-fly</li>
                                            <li><strong>Memory Efficient:</strong> No pre-loading of entire dataset</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="dataloader-section">
                                    <h5>üîÑ DataLoader Configuration</h5>
                                    <div class="code-example">
                                        <pre><code class="language-python"># Create DataLoader
dataloader = DataLoader(
    dataset,
    batch_size=32,           # Number of samples per batch
    shuffle=True,            # Randomize order each epoch
    num_workers=4,           # Parallel loading processes
    pin_memory=True,         # GPU transfer optimization
    drop_last=True           # Drop incomplete batches
)

# Usage in training loop
for batch_idx, (images, labels) in enumerate(dataloader):
    # images: (batch_size, 3, 224, 224)
    # labels: (batch_size,)
    outputs = model(images)
    loss = criterion(outputs, labels)</code></pre>
                                    </div>
                                    
                                    <div class="parameter-grid">
                                        <div class="param-card">
                                            <h6>batch_size</h6>
                                            <p>Number of samples per batch. Affects memory usage and training stability.</p>
                                            <div class="param-example">
                                                <code>batch_size=32</code> (common choice)
                                            </div>
                                        </div>
                                        <div class="param-card">
                                            <h6>shuffle</h6>
                                            <p>Randomize sample order each epoch. Essential for training, not for validation.</p>
                                            <div class="param-example">
                                                <code>shuffle=True</code> (training), <code>shuffle=False</code> (validation)
                                            </div>
                                        </div>
                                        <div class="param-card">
                                            <h6>num_workers</h6>
                                            <p>Parallel data loading processes. Usually 4-8 for optimal performance.</p>
                                            <div class="param-example">
                                                <code>num_workers=4</code> (CPU cores)
                                            </div>
                                        </div>
                                        <div class="param-card">
                                            <h6>pin_memory</h6>
                                            <p>Faster GPU transfer. Use True when training on GPU.</p>
                                            <div class="param-example">
                                                <code>pin_memory=True</code> (GPU training)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Preprocessing Pipeline -->
                            <div class="detail-group">
                                <h4>üîß Image Preprocessing Pipeline</h4>
                                <p class="group-description">Step-by-step preprocessing transforms for CNN input preparation.</p>
                                
                                <div class="preprocessing-steps">
                                    <div class="step-card">
                                        <div class="step-number">1</div>
                                        <div class="step-content">
                                            <h5>Resize</h5>
                                            <div class="code-example">
                                                <pre><code class="language-python">transforms.Resize(256)</code></pre>
                                            </div>
                                            <p>Resize to 256px (maintains aspect ratio)</p>
                                        </div>
                                    </div>
                                    
                                    <div class="step-card">
                                        <div class="step-number">2</div>
                                        <div class="step-content">
                                            <h5>Center Crop</h5>
                                            <div class="code-example">
                                                <pre><code class="language-python">transforms.CenterCrop(224)</code></pre>
                                            </div>
                                            <p>Crop to 224√ó224 from center</p>
                                        </div>
                                    </div>
                                    
                                    <div class="step-card">
                                        <div class="step-number">3</div>
                                        <div class="step-content">
                                            <h5>To Tensor</h5>
                                            <div class="code-example">
                                                <pre><code class="language-python">transforms.ToTensor()</code></pre>
                                            </div>
                                            <p>Convert PIL to tensor, scale [0,255] ‚Üí [0,1]</p>
                                        </div>
                                    </div>
                                    
                                    <div class="step-card">
                                        <div class="step-number">4</div>
                                        <div class="step-content">
                                            <h5>Normalize</h5>
                                            <div class="code-example">
                                                <pre><code class="language-python">transforms.Normalize(
    mean=[0.485, 0.456, 0.406], 
    std=[0.229, 0.224, 0.225]
)</code></pre>
                                            </div>
                                            <p>ImageNet statistics normalization</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="complete-pipeline">
                                    <h5>Complete Preprocessing Pipeline:</h5>
                                    <div class="code-example">
                                        <pre><code class="language-python">from torchvision import transforms

# Training transforms (with augmentation)
train_transform = transforms.Compose([
    transforms.Resize(256),
    transforms.RandomResizedCrop(224),
    transforms.RandomHorizontalFlip(p=0.5),
    transforms.ColorJitter(brightness=0.2, contrast=0.2),
    transforms.ToTensor(),
    transforms.Normalize(mean=[0.485, 0.456, 0.406], 
                        std=[0.229, 0.224, 0.225])
])

# Validation transforms (no augmentation)
val_transform = transforms.Compose([
    transforms.Resize(256),
    transforms.CenterCrop(224),
    transforms.ToTensor(),
    transforms.Normalize(mean=[0.485, 0.456, 0.406], 
                        std=[0.229, 0.224, 0.225])
])</code></pre>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Additional Topics -->
                            <div class="detail-group">
                                <h4>üìñ Additional Topics</h4>
                                
                                <div class="additional-topics">
                                    <div class="topic-card">
                                        <h5>üéØ Data Augmentation</h5>
                                        <p>Techniques to increase dataset diversity and prevent overfitting.</p>
                                        <div class="code-example">
                                            <pre><code class="language-python"># Common augmentation techniques
transforms.RandomHorizontalFlip(p=0.5)
transforms.RandomRotation(degrees=15)
transforms.ColorJitter(brightness=0.2, contrast=0.2)
transforms.RandomResizedCrop(224, scale=(0.8, 1.0))</code></pre>
                                        </div>
                                    </div>
                                    
                                    <div class="topic-card">
                                        <h5>‚ö° Memory Optimization</h5>
                                        <p>Best practices for efficient memory usage during training.</p>
                                        <ul>
                                            <li>Use appropriate batch sizes (32-64)</li>
                                            <li>Enable pin_memory for GPU training</li>
                                            <li>Use DataLoader with num_workers</li>
                                            <li>Monitor GPU memory usage</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="topic-card">
                                        <h5>üîó PyTorch Documentation</h5>
                                        <p>Official PyTorch resources for deep learning:</p>
                                        <div class="links">
                                            <a href="https://pytorch.org/docs/stable/data.html" target="_blank">üìö DataLoader API</a>
                                            <a href="https://pytorch.org/docs/stable/torchvision/transforms.html" target="_blank">üîß Transforms API</a>
                                            <a href="https://pytorch.org/tutorials/beginner/data_loading_tutorial.html" target="_blank">üìñ Data Loading Tutorial</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Preprocessing Detail Tab -->
                    <div id="preprocessing-detail-tab" class="pipeline-detail-tab-content">
                        <div class="pipeline-detail-content">
                            <h3>üîß Preprocessing Pipeline</h3>
                            <p class="pipeline-detail-intro">Essential image preprocessing steps for CNN input preparation: resizing, data augmentation, and normalization.</p>
                            
                            <!-- Image Resizing -->
                            <div class="detail-group">
                                <h4>üìè Image Resizing & Standardization</h4>
                                <p class="group-description">Convert images of different sizes to uniform dimensions for batch processing.</p>
                                
                                <div class="resizing-section">
                                    <h5>üéØ Objective</h5>
                                    <p>Ensure all images have the same dimensions to create consistent tensors with shape <code>(N, C, H, W)</code> for efficient batch processing.</p>
                                    
                                    <div class="resizing-steps">
                                        <div class="step-card">
                                            <div class="step-number">1</div>
                                            <div class="step-content">
                                                <h6>Resize to Standard Size</h6>
                                                <div class="code-example">
                                                    <pre><code class="language-python"># Resize to 256px (maintains aspect ratio)
transforms.Resize(256)</code></pre>
                                                </div>
                                                <p>Scale image to 256px while preserving aspect ratio</p>
                                            </div>
                                        </div>
                                        
                                        <div class="step-card">
                                            <div class="step-number">2</div>
                                            <div class="step-content">
                                                <h6>Center Crop to Target Size</h6>
                                                <div class="code-example">
                                                    <pre><code class="language-python"># Crop to exact 224x224 from center
transforms.CenterCrop(224)</code></pre>
                                                </div>
                                                <p>Extract 224√ó224 region from center of resized image</p>
                                            </div>
                                        </div>
                                        
                                        <div class="step-card">
                                            <div class="step-number">3</div>
                                            <div class="step-content">
                                                <h6>Convert to Tensor</h6>
                                                <div class="code-example">
                                                    <pre><code class="language-python"># Convert PIL to tensor, scale [0,255] ‚Üí [0,1]
transforms.ToTensor()</code></pre>
                                                </div>
                                                <p>Convert PIL image to PyTorch tensor with normalized values</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="tensor-result">
                                        <h6>üìä Result:</h6>
                                        <div class="code-example">
                                            <pre><code class="language-python"># Input: Various sized images
# Output: Consistent tensor shape
tensor.shape = (batch_size, 3, 224, 224)
# Example: (32, 3, 224, 224) for batch of 32 images</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Data Augmentation -->
                            <div class="detail-group">
                                <h4>üé® Data Augmentation</h4>
                                <p class="group-description">Techniques to artificially increase dataset diversity and improve model generalization.</p>
                                
                                <div class="augmentation-section">
                                    <h5>üéØ Objective</h5>
                                    <ul>
                                        <li><strong>Increase Dataset Size:</strong> Generate more training samples from existing data</li>
                                        <li><strong>Improve Generalization:</strong> Help model learn robust features that work across variations</li>
                                        <li><strong>Reduce Overfitting:</strong> Prevent model from memorizing specific image characteristics</li>
                                        <li><strong>Simulate Real-world Variations:</strong> Account for lighting, rotation, scale differences</li>
                                    </ul>
                                    
                                    <h5>üîß Implementation Methods</h5>
                                    <div class="augmentation-grid">
                                        <div class="aug-card">
                                            <h6>Geometric Transforms</h6>
                                            <div class="code-example">
                                                <pre><code class="language-python"># Random crop with scale variation
transforms.RandomResizedCrop(224, scale=(0.8, 1.0))

# Random horizontal flip
transforms.RandomHorizontalFlip(p=0.5)

# Random rotation
transforms.RandomRotation(degrees=15)</code></pre>
                                            </div>
                                        </div>
                                        
                                        <div class="aug-card">
                                            <h6>Color Transforms</h6>
                                            <div class="code-example">
                                                <pre><code class="language-python"># Color jitter for brightness/contrast
transforms.ColorJitter(
    brightness=0.2, 
    contrast=0.2, 
    saturation=0.2, 
    hue=0.1
)

# Random grayscale conversion
transforms.RandomGrayscale(p=0.1)</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="augmentation-warning">
                                        <h6>‚ö†Ô∏è Important Notes:</h6>
                                        <ul>
                                            <li><strong>Training Only:</strong> Apply augmentation ONLY to training set</li>
                                            <li><strong>No Validation/Test:</strong> Keep validation and test sets unchanged</li>
                                            <li><strong>Consistent Evaluation:</strong> Ensure fair comparison across models</li>
                                            <li><strong>Realistic Augmentation:</strong> Use transformations that make sense for your domain</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="complete-pipeline">
                                        <h6>Complete Augmentation Pipeline:</h6>
                                        <div class="code-example">
                                            <pre><code class="language-python"># Training transforms (WITH augmentation)
train_transform = transforms.Compose([
    transforms.Resize(256),
    transforms.RandomResizedCrop(224, scale=(0.8, 1.0)),
    transforms.RandomHorizontalFlip(p=0.5),
    transforms.ColorJitter(brightness=0.2, contrast=0.2),
    transforms.ToTensor(),
    transforms.Normalize(mean=[0.485, 0.456, 0.406], 
                        std=[0.229, 0.224, 0.225])
])

# Validation transforms (NO augmentation)
val_transform = transforms.Compose([
    transforms.Resize(256),
    transforms.CenterCrop(224),
    transforms.ToTensor(),
    transforms.Normalize(mean=[0.485, 0.456, 0.406], 
                        std=[0.229, 0.224, 0.225])
])</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Normalization -->
                            <div class="detail-group">
                                <h4>üìä Data Normalization</h4>
                                <p class="group-description">Standardize pixel values to improve training stability and convergence.</p>
                                
                                <div class="normalization-section">
                                    <h5>üéØ Objective</h5>
                                    <ul>
                                        <li><strong>Stabilize Training:</strong> Prevent gradient explosion/vanishing</li>
                                        <li><strong>Faster Convergence:</strong> Help optimizer find optimal solution</li>
                                        <li><strong>Feature Standardization:</strong> Ensure all features have similar scales</li>
                                        <li><strong>Transfer Learning Compatibility:</strong> Match pre-trained model expectations</li>
                                    </ul>
                                    
                                    <h5>üîß Implementation</h5>
                                    <div class="normalization-formula">
                                        <h6>Normalization Formula:</h6>
                                        <div class="formula-box">
                                            <code>normalized_pixel = (pixel - mean) / std</code>
                                        </div>
                                        <p>Where pixel values are in range [0, 1] after ToTensor()</p>
                                    </div>
                                    
                                    <div class="model-specific-stats">
                                        <h6>üìã Model-Specific Statistics:</h6>
                                        <div class="stats-grid">
                                            <div class="stats-card">
                                                <h6>ImageNet (ResNet, VGG, etc.)</h6>
                                                <div class="code-example">
                                                    <pre><code class="language-python">mean = [0.485, 0.456, 0.406]
std = [0.229, 0.224, 0.225]</code></pre>
                                                </div>
                                            </div>
                                            
                                            <div class="stats-card">
                                                <h6>EfficientNet</h6>
                                                <div class="code-example">
                                                    <pre><code class="language-python">mean = [0.485, 0.456, 0.406]
std = [0.229, 0.224, 0.225]</code></pre>
                                                </div>
                                            </div>
                                            
                                            <div class="stats-card">
                                                <h6>MobileNet</h6>
                                                <div class="code-example">
                                                    <pre><code class="language-python">mean = [0.485, 0.456, 0.406]
std = [0.229, 0.224, 0.225]</code></pre>
                                                </div>
                                            </div>
                                            
                                            <div class="stats-card">
                                                <h6>Custom Dataset</h6>
                                                <div class="code-example">
                                                    <pre><code class="language-python"># Calculate from your training set
mean = [0.5, 0.5, 0.5]  # Example
std = [0.5, 0.5, 0.5]   # Example</code></pre>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="statistics-calculation">
                                        <h6>üìä How to Calculate Mean & Std:</h6>
                                        <div class="calculation-steps">
                                            <div class="calc-step">
                                                <h6>1. From Training Set Only</h6>
                                                <div class="code-example">
                                                    <pre><code class="language-python"># Calculate statistics from training set
def calculate_dataset_stats(dataset):
    loader = DataLoader(dataset, batch_size=1, shuffle=False)
    mean = torch.zeros(3)
    std = torch.zeros(3)
    
    for images, _ in loader:
        mean += images.mean(dim=(2, 3))
        std += images.std(dim=(2, 3))
    
    mean /= len(loader)
    std /= len(loader)
    
    return mean, std</code></pre>
                                                </div>
                                            </div>
                                            
                                            <div class="calc-step">
                                                <h6>2. Not from Entire Dataset</h6>
                                                <ul>
                                                    <li><strong>Training Set Only:</strong> Calculate from training images</li>
                                                    <li><strong>Sample Size:</strong> Use subset if dataset is too large</li>
                                                    <li><strong>Consistency:</strong> Use same stats for all splits</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="normalization-example">
                                        <h6>üîß Complete Normalization Example:</h6>
                                        <div class="code-example">
                                            <pre><code class="language-python"># ImageNet normalization (most common)
normalize = transforms.Normalize(
    mean=[0.485, 0.456, 0.406], 
    std=[0.229, 0.224, 0.225]
)

# Apply to tensor
normalized_tensor = normalize(tensor)

# Result: pixel values roughly in range [-2, 2]
# Mean ‚âà 0, Std ‚âà 1 for each channel</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Best Practices -->
                            <div class="detail-group">
                                <h4>üí° Best Practices</h4>
                                
                                <div class="practices-grid">
                                    <div class="practice-card">
                                        <h5>üéØ Training vs Validation</h5>
                                        <ul>
                                            <li>Use augmentation for training only</li>
                                            <li>Keep validation set unchanged</li>
                                            <li>Apply same normalization to both</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="practice-card">
                                        <h5>‚ö° Performance</h5>
                                        <ul>
                                            <li>Use appropriate batch sizes</li>
                                            <li>Enable pin_memory for GPU</li>
                                            <li>Use num_workers for parallel loading</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="practice-card">
                                        <h5>üîß Implementation</h5>
                                        <ul>
                                            <li>Use transforms.Compose() for chaining</li>
                                            <li>Test transforms on sample images</li>
                                            <li>Monitor memory usage during training</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- CNN Model Detail Tab -->
                    <div id="cnn-model-detail-tab" class="pipeline-detail-tab-content">
                        <div class="pipeline-detail-content">
                            <h3>üß† CNN Model Architecture</h3>
                            <p class="pipeline-detail-intro">Understanding CNN architectures and transfer learning.</p>
                            <p>Content coming soon...</p>
                        </div>
                    </div>
                    
                    <!-- Classifier Head Detail Tab -->
                    <div id="classifier-head-detail-tab" class="pipeline-detail-tab-content">
                        <div class="pipeline-detail-content">
                            <h3>üéØ Classifier Head</h3>
                            <p class="pipeline-detail-intro">Adapting pre-trained models for specific classification tasks.</p>
                            <p>Content coming soon...</p>
                        </div>
                    </div>
                    
                    <!-- Results Detail Tab -->
                    <div id="results-detail-tab" class="pipeline-detail-tab-content">
                        <div class="pipeline-detail-content">
                            <h3>‚ú® Classification Results</h3>
                            <p class="pipeline-detail-intro">Understanding model predictions and evaluation metrics.</p>
                            <p>Content coming soon...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Other tabs content will be loaded by JavaScript -->
        </div>
    </section>

    <!-- Include comparison component -->
    <!-- Model Comparison Section -->
<style>
.comparison-tab-content {
    display: none;
}

.comparison-tab-content.active {
    display: block;
}

.comparison-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 2rem;
    border-bottom: 2px solid #e5e7eb;
    padding-bottom: 0.5rem;
}

.comparison-tab-btn {
    background: #f8f9fa;
    border: 1px solid #e5e7eb;
    border-radius: 8px 8px 0 0;
    padding: 0.75rem 1.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    color: #6b7280;
}

.comparison-tab-btn:hover {
    background: #e5e7eb;
    color: #374151;
}

.comparison-tab-btn.active {
    background: #4f46e5;
    color: white;
    border-color: #4f46e5;
}

.comparison-tab-btn.active:hover {
    background: #4338ca;
}
</style>

<section class="ai-section">
    <h2 class="ai-heading-2" data-en="üìä Model Comparison" data-vi="üìä So S√°nh M√¥ H√¨nh">üìä Model Comparison</h2>
    <p class="ai-text-light" style="margin-bottom: 2rem;"
       data-en="Compare performance metrics across CNN models"
       data-vi="So s√°nh c√°c ch·ªâ s·ªë hi·ªáu su·∫•t gi·ªØa c√°c m√¥ h√¨nh CNN">
        Compare performance metrics across CNN models
    </p>
    
    <!-- Comparison Tabs -->
    <div class="comparison-section">
        <div class="comparison-tabs">
            <button class="comparison-tab-btn active" onclick="switchComparisonTab('performance')">
                üìà Performance
            </button>
            <button class="comparison-tab-btn" onclick="switchComparisonTab('resources')">
                ‚ö° Resources
            </button>
            <button class="comparison-tab-btn" onclick="switchComparisonTab('formulas')">
                üßÆ Formulas
            </button>
            <button class="comparison-tab-btn" onclick="switchComparisonTab('configuration')">
                ‚öôÔ∏è Configuration
            </button>
            <button class="comparison-tab-btn" onclick="switchComparisonTab('visualizations')">
                üìä Visualizations
            </button>
        </div>
        
        <!-- Performance Tab -->
        <div id="performance-tab" class="comparison-tab-content active">
            <div class="comparison-table-container">
                <table class="comparison-table enhanced-table">
                    <thead>
                        <tr class="table-header-row">
                            <th class="model-column" data-en="Model" data-vi="M√¥ H√¨nh">Model</th>
                            <th class="metric-column" data-en="Precision ‚Üë" data-vi="Precision ‚Üë">Precision ‚Üë</th>
                            <th class="metric-column" data-en="Recall ‚Üë" data-vi="Recall ‚Üë">Recall ‚Üë</th>
                            <th class="metric-column" data-en="F1-Score ‚Üë" data-vi="F1-Score ‚Üë">F1-Score ‚Üë</th>
                            <th class="metric-column" data-en="Accuracy ‚Üë" data-vi="ƒê·ªô Ch√≠nh X√°c ‚Üë">Accuracy ‚Üë</th>
                            <th class="metric-column" data-en="Top-5 Accuracy ‚Üë" data-vi="Top-5 Accuracy ‚Üë">Top-5 Acc ‚Üë</th>
                        </tr>
                    </thead>
                    <tbody id="performance-table-body">
                        <!-- Dynamic content will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Resources Tab -->
        <div id="resources-tab" class="comparison-tab-content">
            <div class="comparison-table-container">
                <table class="comparison-table enhanced-table">
                    <thead>
                        <tr class="table-header-row">
                            <th class="model-column" data-en="Model" data-vi="M√¥ H√¨nh">Model</th>
                            <th class="metric-column" data-en="Training Time ‚Üì (min)" data-vi="Th·ªùi Gian Hu·∫•n Luy·ªán ‚Üì (ph√∫t)">Training Time ‚Üì (min)</th>
                            <th class="metric-column" data-en="Inference Time ‚Üì (ms)" data-vi="Th·ªùi Gian D·ª± ƒêo√°n ‚Üì (ms)">Inference Time ‚Üì (ms)</th>
                            <th class="metric-column" data-en="FLOPs ‚Üì (B)" data-vi="FLOPs ‚Üì (B)">FLOPs ‚Üì (B)</th>
                            <th class="metric-column" data-en="Parameters ‚Üì (M)" data-vi="Tham S·ªë ‚Üì (M)">Parameters ‚Üì (M)</th>
                            <th class="metric-column" data-en="Model Size ‚Üì (MB)" data-vi="K√≠ch Th∆∞·ªõc ‚Üì (MB)">Model Size ‚Üì (MB)</th>
                        </tr>
                    </thead>
                    <tbody id="resources-table-body">
                        <!-- Dynamic content will be loaded here -->
                    </tbody>
                </table>
                <div class="table-note">
                    <small>üìù Note: Training/Inference times are calculated as <strong>total time</strong> for training and <strong>average time</strong> for inference per sample.</small>
                </div>
            </div>
        </div>
        
        <!-- Formulas Tab -->
        <div id="formulas-tab" class="comparison-tab-content">
            <div class="formulas-content">
                <!-- Classification Metrics Formulas -->
                <div class="formulas-section">
                    <h3>üìä Classification Metrics Formulas</h3>
                    
                    <!-- Basic Metrics -->
                    <div class="metric-group">
                        <h4>üéØ Basic Classification Metrics</h4>
                        
                        <div class="formula-card">
                            <h5>Accuracy</h5>
                            <div class="formula">
                                \[\text{Accuracy} = \frac{\text{TP} + \text{TN}}{\text{TP} + \text{TN} + \text{FP} + \text{FN}} = \frac{\text{Correct Predictions}}{\text{Total Predictions}}\]
                            </div>
                            <p class="formula-description">
                                Overall correctness of the model across all classes
                            </p>
                        </div>
                        
                        <div class="formula-card">
                            <h5>Precision</h5>
                            <div class="formula">
                                \[\text{Precision} = \frac{\text{TP}}{\text{TP} + \text{FP}} = \frac{\text{True Positives}}{\text{True Positives} + \text{False Positives}}\]
                            </div>
                            <p class="formula-description">
                                Proportion of positive predictions that are actually correct
                            </p>
                        </div>
                        
                        <div class="formula-card">
                            <h5>Recall</h5>
                            <div class="formula">
                                \[\text{Recall} = \frac{\text{TP}}{\text{TP} + \text{FN}} = \frac{\text{True Positives}}{\text{True Positives} + \text{False Negatives}}\]
                            </div>
                            <p class="formula-description">
                                Proportion of actual positives that are correctly identified
                            </p>
                        </div>
                        
                        <div class="formula-card">
                            <h5>F1-Score</h5>
                            <div class="formula">
                                \[\text{F1-Score} = 2 \times \frac{\text{Precision} \times \text{Recall}}{\text{Precision} + \text{Recall}} = \frac{2\text{TP}}{2\text{TP} + \text{FP} + \text{FN}}\]
                            </div>
                            <p class="formula-description">
                                Harmonic mean of precision and recall
                            </p>
                        </div>
                        
                        <div class="formula-card">
                            <h5>Top-5 Accuracy</h5>
                            <div class="formula">
                                \[\text{Top-5 Accuracy} = \frac{\text{Number of correct predictions in top-5}}{\text{Total predictions}}\]
                            </div>
                            <p class="formula-description">
                                Accuracy when considering top-5 predictions
                            </p>
                        </div>
                    </div>
                    
                    <!-- Averaging Methods -->
                    <div class="metric-group">
                        <h4>üìà Averaging Methods</h4>
                        
                        <div class="formula-card">
                            <h5>Macro Average</h5>
                            <div class="formula">
                                \[\text{Macro-Precision} = \frac{1}{n} \sum_{i=1}^{n} \text{Precision}_i\]
                                \[\text{Macro-Recall} = \frac{1}{n} \sum_{i=1}^{n} \text{Recall}_i\]
                                \[\text{Macro-F1} = \frac{1}{n} \sum_{i=1}^{n} \text{F1}_i\]
                            </div>
                            <p class="formula-description">
                                Simple average across all classes (treats all classes equally)
                            </p>
                        </div>
                        
                        <div class="formula-card">
                            <h5>Weighted Average</h5>
                            <div class="formula">
                                \[\text{Weighted-Precision} = \frac{\sum_{i=1}^{n} \text{Precision}_i \times \text{Support}_i}{\sum_{i=1}^{n} \text{Support}_i}\]
                                \[\text{Weighted-Recall} = \frac{\sum_{i=1}^{n} \text{Recall}_i \times \text{Support}_i}{\sum_{i=1}^{n} \text{Support}_i}\]
                                \[\text{Weighted-F1} = \frac{\sum_{i=1}^{n} \text{F1}_i \times \text{Support}_i}{\sum_{i=1}^{n} \text{Support}_i}\]
                            </div>
                            <p class="formula-description">
                                Average weighted by the number of true instances for each class
                            </p>
                        </div>
                    </div>
                    
                    <!-- Resource Metrics -->
                    <div class="metric-group">
                        <h4>‚ö° Resource Metrics</h4>
                        
                        <div class="formula-card">
                            <h5>FLOPs (Floating Point Operations)</h5>
                            <div class="formula">
                                \[\text{FLOPs} = \sum_{l=1}^{L} \text{FLOPs}_l\]
                                \[\text{FLOPs}_l = 2 \times \text{MACs}_l\]
                            </div>
                            <p class="formula-description">
                                Total floating point operations for forward pass
                            </p>
                        </div>
                        
                    </div>
                </div>
                
                <style>
                .formulas-section {
                    max-width: 900px;
                    margin: 0 auto;
                    padding: 2rem;
                }
                
                .metric-group {
                    margin-bottom: 2rem;
                }
                
                .metric-group h4 {
                    color: #2563eb;
                    border-bottom: 2px solid #e5e7eb;
                    padding-bottom: 0.5rem;
                    margin-bottom: 1rem;
                }
                
                .formula-card {
                    background: #f8f9fa;
                    border: 1px solid #e5e7eb;
                    border-radius: 8px;
                    padding: 1.5rem;
                    margin-bottom: 1rem;
                    transition: all 0.2s ease;
                }
                
                .formula-card:hover {
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    border-color: #2563eb;
                }
                
                .formula-card h5 {
                    color: #1f2937;
                    margin-bottom: 1rem;
                    font-size: 1.1rem;
                }
                
                .formula {
                    background: linear-gradient(135deg, #f8fafc, #e2e8f0);
                    padding: 1.5rem;
                    border-radius: 8px;
                    border: 2px solid #3b82f6;
                    margin: 1rem 0;
                    text-align: center;
                    font-size: 1.2rem;
                    color: #1e40af;
                    font-weight: 500;
                    box-shadow: 0 4px 6px rgba(59, 130, 246, 0.1);
                    transition: all 0.3s ease;
                }
                
                .formula:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 8px 15px rgba(59, 130, 246, 0.2);
                    border-color: #2563eb;
                }
                
                .formula-description {
                    color: #666;
                    font-style: italic;
                    margin-top: 0.5rem;
                    line-height: 1.5;
                }
                </style>
            </div>
        </div>
        
        <!-- Visualizations Tab -->
        <div id="visualizations-tab" class="comparison-tab-content">
            <div class="visualizations-content">
                <div class="visualizations-section">
                    <h3>üìä Model Visualizations</h3>
                    <p class="visualizations-intro">Interactive feature maps and model analysis visualizations.</p>
                    
                    <!-- Feature Maps Explorer -->
                    <div class="feature-maps-section">
                        <h4>üîç Feature Maps Explorer</h4>
                        <p>Explore how different CNN layers extract features from images.</p>
                        
                        <div class="feature-map-controls">
                            <div class="control-group">
                                <label for="model-select">Model:</label>
                                <select id="model-select" onchange="updateFeatureMaps()">
                                    <option value="">Select a model...</option>
                                </select>
                            </div>
                            
                            <div class="control-group">
                                <label for="layer-select">Layer:</label>
                                <select id="layer-select" onchange="updateFeatureMaps()">
                                    <option value="">Select a layer...</option>
                                </select>
                            </div>
                            
                            <div class="control-group">
                                <label for="sample-select">Sample:</label>
                                <select id="sample-select" onchange="updateFeatureMaps()">
                                    <option value="">Select a sample...</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="feature-map-info">
                            <div id="feature-map-info" class="info-panel">
                                <p>Select a model, layer, and sample to view feature maps.</p>
                            </div>
                        </div>
                        
                        <div class="feature-map-grid" id="feature-map-grid">
                            <!-- Feature maps will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Learning Curves -->
                    <div class="learning-curves-section">
                        <h4>üìà Learning Curves</h4>
                        <p>Training and validation performance over epochs.</p>
                        
                        <div class="curves-controls">
                            <div class="control-group">
                                <label for="curves-model-select">Model:</label>
                                <select id="curves-model-select" onchange="updateLearningCurves()">
                                    <option value="">Select a model...</option>
                                </select>
                            </div>
                            
                            <div class="control-group">
                                <label for="curves-metric-select">Metric:</label>
                                <select id="curves-metric-select" onchange="updateLearningCurves()">
                                    <option value="accuracy">Accuracy</option>
                                    <option value="loss">Loss</option>
                                    <option value="precision">Precision</option>
                                    <option value="recall">Recall</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="curves-chart" id="learning-curves-chart">
                            <!-- Learning curves will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Model Architecture Visualization -->
                    <div class="architecture-section">
                        <h4>üèóÔ∏è Model Architecture</h4>
                        <p>Visual representation of CNN architectures and layer connections.</p>
                        
                        <div class="architecture-controls">
                            <div class="control-group">
                                <label for="arch-model-select">Model:</label>
                                <select id="arch-model-select" onchange="updateArchitecture()">
                                    <option value="">Select a model...</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="architecture-diagram" id="architecture-diagram">
                            <!-- Architecture diagram will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <style>
                .visualizations-content {
                    max-width: 1400px;
                    margin: 0 auto;
                    padding: 2rem;
                }
                
                .visualizations-section h3 {
                    color: #1f2937;
                    font-size: 1.8rem;
                    margin-bottom: 1rem;
                    text-align: center;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                }
                
                .visualizations-intro {
                    text-align: center;
                    color: #6b7280;
                    font-size: 1.1rem;
                    margin-bottom: 3rem;
                }
                
                .feature-maps-section,
                .learning-curves-section,
                .architecture-section {
                    background: #ffffff;
                    border: 1px solid #e5e7eb;
                    border-radius: 12px;
                    padding: 2rem;
                    margin-bottom: 2rem;
                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
                }
                
                .feature-maps-section h4,
                .learning-curves-section h4,
                .architecture-section h4 {
                    color: #059669;
                    font-size: 1.4rem;
                    margin-bottom: 1rem;
                    padding-bottom: 0.5rem;
                    border-bottom: 2px solid #d1fae5;
                }
                
                .feature-map-controls,
                .curves-controls,
                .architecture-controls {
                    display: flex;
                    gap: 1rem;
                    margin-bottom: 2rem;
                    flex-wrap: wrap;
                }
                
                .control-group {
                    display: flex;
                    flex-direction: column;
                    min-width: 150px;
                }
                
                .control-group label {
                    font-weight: 600;
                    color: #374151;
                    margin-bottom: 0.5rem;
                }
                
                .control-group select {
                    padding: 0.5rem;
                    border: 1px solid #d1d5db;
                    border-radius: 6px;
                    background: white;
                    font-size: 0.9rem;
                }
                
                .control-group select:focus {
                    outline: none;
                    border-color: #4f46e5;
                    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
                }
                
                .feature-map-info {
                    margin-bottom: 2rem;
                }
                
                .info-panel {
                    background: #f8fafc;
                    border: 1px solid #e2e8f0;
                    border-radius: 8px;
                    padding: 1rem;
                    color: #64748b;
                }
                
                .feature-map-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                    gap: 1rem;
                    margin-top: 1rem;
                }
                
                .feature-map-item {
                    background: #ffffff;
                    border: 1px solid #e5e7eb;
                    border-radius: 8px;
                    padding: 0.5rem;
                    text-align: center;
                    transition: all 0.3s ease;
                }
                
                .feature-map-item:hover {
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                    transform: translateY(-2px);
                }
                
                .feature-map-item img {
                    width: 100%;
                    height: auto;
                    border-radius: 4px;
                }
                
                .feature-map-item .filter-label {
                    font-size: 0.8rem;
                    color: #6b7280;
                    margin-top: 0.5rem;
                }
                
                .curves-chart,
                .architecture-diagram {
                    background: #f8fafc;
                    border: 1px solid #e2e8f0;
                    border-radius: 8px;
                    padding: 2rem;
                    min-height: 400px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: #64748b;
                }
                
                @media (max-width: 768px) {
                    .feature-map-controls,
                    .curves-controls,
                    .architecture-controls {
                        flex-direction: column;
                    }
                    
                    .control-group {
                        min-width: auto;
                    }
                    
                    .feature-map-grid {
                        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                    }
                }
                </style>
                
                <script>
                // Feature Maps JavaScript
                let featureMapsData = null;
                
                // Load feature maps data
                async function loadFeatureMapsData() {
                    try {
                        const response = await fetch('./assets/data/feature_maps_data.json');
                        if (response.ok) {
                            featureMapsData = await response.json();
                            populateModelSelectors();
                        } else {
                            console.log('Feature maps data not available');
                        }
                    } catch (error) {
                        console.log('Error loading feature maps data:', error);
                    }
                }
                
                function populateModelSelectors() {
                    if (!featureMapsData) return;
                    
                    const modelSelect = document.getElementById('model-select');
                    const curvesModelSelect = document.getElementById('curves-model-select');
                    const archModelSelect = document.getElementById('arch-model-select');
                    
                    // Clear existing options
                    [modelSelect, curvesModelSelect, archModelSelect].forEach(select => {
                        select.innerHTML = '<option value="">Select a model...</option>';
                    });
                    
                    // Add model options
                    Object.keys(featureMapsData.models).forEach(modelName => {
                        const option = `<option value="${modelName}">${modelName}</option>`;
                        [modelSelect, curvesModelSelect, archModelSelect].forEach(select => {
                            select.innerHTML += option;
                        });
                    });
                }
                
                function updateFeatureMaps() {
                    const modelSelect = document.getElementById('model-select');
                    const layerSelect = document.getElementById('layer-select');
                    const sampleSelect = document.getElementById('sample-select');
                    const grid = document.getElementById('feature-map-grid');
                    const info = document.getElementById('feature-map-info');
                    
                    // If model changed, update layer and sample options
                    if (modelSelect.value && !layerSelect.value && !sampleSelect.value) {
                        updateLayerAndSampleOptions();
                        return;
                    }
                    
                    // Only proceed if all three are selected
                    if (!modelSelect.value || !layerSelect.value || !sampleSelect.value) {
                        grid.innerHTML = '<p>Please select a model, layer, and sample.</p>';
                        return;
                    }
                    
                    if (!featureMapsData) {
                        grid.innerHTML = '<p>Feature maps data not available.</p>';
                        return;
                    }
                    
                    const modelData = featureMapsData.models[modelSelect.value];
                    if (!modelData) {
                        grid.innerHTML = '<p>Model data not found.</p>';
                        return;
                    }
                    
                    const sampleData = modelData.feature_maps[sampleSelect.value];
                    if (!sampleData) {
                        grid.innerHTML = '<p>Sample data not found.</p>';
                        return;
                    }
                    
                    const layerData = sampleData.layers[layerSelect.value];
                    if (!layerData) {
                        grid.innerHTML = '<p>Layer data not found.</p>';
                        return;
                    }
                    
                    // Update info panel
                    info.innerHTML = `
                        <strong>Model:</strong> ${modelSelect.value}<br>
                        <strong>Layer:</strong> ${layerSelect.value}<br>
                        <strong>Sample:</strong> ${sampleSelect.value}<br>
                        <strong>Shape:</strong> ${layerData.shape.join(' √ó ')}<br>
                        <strong>Filters:</strong> ${Object.keys(layerData.feature_maps).length}
                    `;
                    
                    // Display feature maps
                    grid.innerHTML = '';
                    Object.entries(layerData.feature_maps).forEach(([filterName, base64Image]) => {
                        const item = document.createElement('div');
                        item.className = 'feature-map-item';
                        item.innerHTML = `
                            <img src="data:image/png;base64,${base64Image}" alt="${filterName}">
                            <div class="filter-label">${filterName}</div>
                        `;
                        grid.appendChild(item);
                    });
                }
                
                function updateLayerAndSampleOptions() {
                    const modelSelect = document.getElementById('model-select');
                    const layerSelect = document.getElementById('layer-select');
                    const sampleSelect = document.getElementById('sample-select');
                    
                    if (!modelSelect.value || !featureMapsData) {
                        return;
                    }
                    
                    const modelData = featureMapsData.models[modelSelect.value];
                    if (!modelData) {
                        return;
                    }
                    
                    // Update layer options
                    layerSelect.innerHTML = '<option value="">Select a layer...</option>';
                    if (modelData.feature_maps && Object.keys(modelData.feature_maps).length > 0) {
                        const firstSample = Object.values(modelData.feature_maps)[0];
                        if (firstSample && firstSample.layers) {
                            Object.keys(firstSample.layers).forEach(layerName => {
                                const option = document.createElement('option');
                                option.value = layerName;
                                option.textContent = layerName;
                                layerSelect.appendChild(option);
                            });
                        }
                    }
                    
                    // Update sample options
                    sampleSelect.innerHTML = '<option value="">Select a sample...</option>';
                    if (modelData.feature_maps) {
                        Object.keys(modelData.feature_maps).forEach(sampleName => {
                            const option = document.createElement('option');
                            option.value = sampleName;
                            option.textContent = sampleName;
                            sampleSelect.appendChild(option);
                        });
                    }
                }
                
                function updateLearningCurves() {
                    const chart = document.getElementById('learning-curves-chart');
                    chart.innerHTML = '<p>Learning curves visualization coming soon...</p>';
                }
                
                function updateArchitecture() {
                    const diagram = document.getElementById('architecture-diagram');
                    diagram.innerHTML = '<p>Architecture diagram coming soon...</p>';
                }
                
                // Initialize when page loads
                document.addEventListener('DOMContentLoaded', function() {
                    loadFeatureMapsData();
                });
                </script>
            </div>
        </div>
        
        <!-- Configuration Tab -->
        <div id="configuration-tab" class="comparison-tab-content">
            <div class="configuration-content">
                <div class="config-section">
                    <h3>‚öôÔ∏è Model Configurations</h3>
                    <p class="config-intro">Training and evaluation configurations for all models in the comparison table.</p>
                    
                    <!-- Training Configuration -->
                    <div class="config-group">
                        <h4>üéØ Training Configuration</h4>
                        
                        <div class="config-card">
                            <h5>Transfer Learning Strategy</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Mode:</span>
                                    <span class="config-value">Transfer Learning (Freeze CNN Backbone)</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Frozen Layers:</span>
                                    <span class="config-value">All CNN backbone layers</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Trainable Layers:</span>
                                    <span class="config-value">Classifier head only (final FC layer)</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Pre-trained Weights:</span>
                                    <span class="config-value">ImageNet-1K</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="config-card">
                            <h5>Hyperparameters</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Optimizer:</span>
                                    <span class="config-value">Adam</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Learning Rate:</span>
                                    <span class="config-value">0.001 (1e-3)</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Batch Size:</span>
                                    <span class="config-value">32</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Max Epochs:</span>
                                    <span class="config-value">40</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Early Stopping:</span>
                                    <span class="config-value">Patience = 5 epochs, Min Delta = 0.001</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Loss Function:</span>
                                    <span class="config-value">Cross Entropy Loss</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Data Configuration -->
                    <div class="config-group">
                        <h4>üìä Data Configuration</h4>
                        
                        <div class="config-card">
                            <h5>Dataset Split</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Training Set:</span>
                                    <span class="config-value">3,680 images</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Validation Set:</span>
                                    <span class="config-value">3,669 images</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Test Set:</span>
                                    <span class="config-value">3,669 images</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Number of Classes:</span>
                                    <span class="config-value">37 breeds (12 cats + 25 dogs)</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="config-card">
                            <h5>Image Preprocessing</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Input Size:</span>
                                    <span class="config-value">224√ó224√ó3 (RGB)</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Normalization (VGG16, ResNet50):</span>
                                    <span class="config-value">Mean=[0.485, 0.456, 0.406], Std=[0.229, 0.224, 0.225]</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Normalization (EfficientNet, MobileNetV3, Xception):</span>
                                    <span class="config-value">Mean=[0.5, 0.5, 0.5], Std=[0.5, 0.5, 0.5]</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="config-card">
                            <h5>Data Augmentation</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">No Augmentation:</span>
                                    <span class="config-value">Resize(256) ‚Üí CenterCrop(224) ‚Üí ToTensor ‚Üí Normalize</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">With Augmentation:</span>
                                    <span class="config-value">RandomResizedCrop(224) ‚Üí RandomHorizontalFlip(p=0.5) ‚Üí ColorJitter ‚Üí ToTensor ‚Üí Normalize</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Model Architectures -->
                    <div class="config-group">
                        <h4>üèóÔ∏è Model Architectures</h4>
                        
                        <div class="config-card">
                            <h5>VGG16</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Type:</span>
                                    <span class="config-value">Dense CNN</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Depth:</span>
                                    <span class="config-value">16 layers (13 conv + 3 FC)</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Parameters:</span>
                                    <span class="config-value">134.41M</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Best for:</span>
                                    <span class="config-value">Server deployment, high accuracy</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="config-card">
                            <h5>ResNet50</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Type:</span>
                                    <span class="config-value">Residual Network</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Depth:</span>
                                    <span class="config-value">50 layers with skip connections</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Parameters:</span>
                                    <span class="config-value">23.58M</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Best for:</span>
                                    <span class="config-value">Balanced performance and efficiency</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="config-card">
                            <h5>MobileNetV3 Large</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Type:</span>
                                    <span class="config-value">Depthwise Separable CNN</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Depth:</span>
                                    <span class="config-value">Inverted residual blocks with SE modules</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Parameters:</span>
                                    <span class="config-value">4.25M</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Best for:</span>
                                    <span class="config-value">Mobile and edge devices</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="config-card">
                            <h5>EfficientNet-B3</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Type:</span>
                                    <span class="config-value">Compound Scaled CNN</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Depth:</span>
                                    <span class="config-value">MBConv blocks with compound scaling</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Parameters:</span>
                                    <span class="config-value">10.75M</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Best for:</span>
                                    <span class="config-value">Balanced accuracy and efficiency</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="config-card">
                            <h5>Xception</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Type:</span>
                                    <span class="config-value">Extreme Inception</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Depth:</span>
                                    <span class="config-value">Depthwise separable convolutions</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Parameters:</span>
                                    <span class="config-value">20.88M</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Best for:</span>
                                    <span class="config-value">High accuracy with moderate size</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Evaluation Configuration -->
                    <div class="config-group">
                        <h4>üß™ Evaluation Configuration</h4>
                        
                        <div class="config-card">
                            <h5>Metrics & Hardware</h5>
                            <div class="config-detail">
                                <div class="config-item">
                                    <span class="config-label">Metrics:</span>
                                    <span class="config-value">Accuracy, Precision, Recall, F1-Score, Top-5 Accuracy</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Averaging Method:</span>
                                    <span class="config-value">Macro average</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Training Hardware:</span>
                                    <span class="config-value">NVIDIA GPU (CUDA enabled)</span>
                                </div>
                                <div class="config-item">
                                    <span class="config-label">Inference Benchmark:</span>
                                    <span class="config-value">Single image, GPU inference, average over 100 runs</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <style>
                .configuration-content {
                    max-width: 1200px;
                    margin: 0 auto;
                    padding: 2rem;
                }
                
                .config-section h3 {
                    color: #1f2937;
                    font-size: 1.8rem;
                    margin-bottom: 1rem;
                    text-align: center;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                }
                
                .config-intro {
                    text-align: center;
                    color: #6b7280;
                    font-size: 1.1rem;
                    margin-bottom: 3rem;
                }
                
                .config-group {
                    margin-bottom: 3rem;
                }
                
                .config-group h4 {
                    color: #4f46e5;
                    font-size: 1.4rem;
                    margin-bottom: 1.5rem;
                    padding-bottom: 0.5rem;
                    border-bottom: 3px solid #e5e7eb;
                }
                
                .config-card {
                    background: #ffffff;
                    border: 1px solid #e5e7eb;
                    border-radius: 12px;
                    padding: 1.5rem;
                    margin-bottom: 1.5rem;
                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
                    transition: all 0.3s ease;
                }
                
                .config-card:hover {
                    box-shadow: 0 4px 16px rgba(79, 70, 229, 0.15);
                    border-color: #4f46e5;
                    transform: translateY(-2px);
                }
                
                .config-card h5 {
                    color: #059669;
                    font-size: 1.2rem;
                    margin-bottom: 1rem;
                    padding-bottom: 0.5rem;
                    border-bottom: 2px solid #d1fae5;
                }
                
                .config-detail {
                    display: grid;
                    gap: 0.75rem;
                }
                
                .config-item {
                    display: flex;
                    align-items: flex-start;
                    padding: 0.5rem 0;
                    border-bottom: 1px solid #f3f4f6;
                }
                
                .config-item:last-child {
                    border-bottom: none;
                }
                
                .config-label {
                    font-weight: 600;
                    color: #374151;
                    min-width: 200px;
                    flex-shrink: 0;
                }
                
                .config-value {
                    color: #6b7280;
                    flex: 1;
                    font-family: 'Monaco', 'Courier New', monospace;
                    font-size: 0.95rem;
                }
                
                @media (max-width: 768px) {
                    .config-item {
                        flex-direction: column;
                    }
                    
                    .config-label {
                        min-width: auto;
                        margin-bottom: 0.25rem;
                    }
                }
                </style>
            </div>
        </div>
    </div>
</section>
    
    <!-- Include confusion matrix component -->
    <!-- Confusion Matrix Section -->
<section class="ai-section">
    <h2 class="ai-heading-2" data-en="üìä Confusion Matrix" data-vi="üìä Ma Tr·∫≠n Nh·∫ßm L·∫´n">üìä Confusion Matrix</h2>
    <p class="ai-text-light" style="margin-bottom: 2rem;"
       data-en="Select a model from the comparison table above to view its confusion matrix"
       data-vi="Ch·ªçn m·ªôt m√¥ h√¨nh t·ª´ b·∫£ng so s√°nh ·ªü tr√™n ƒë·ªÉ xem ma tr·∫≠n nh·∫ßm l·∫´n">
        Select a model from the comparison table above to view its confusion matrix
    </p>
    
    <div id="model-selection-info" style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-bottom: 2rem; text-align: center; border: 2px dashed #dee2e6;">
        <p style="margin: 0; color: #6c757d; font-style: italic;">
            <span data-en="Click on a model row in the comparison table to view its confusion matrix" data-vi="Nh·∫•p v√†o d√≤ng m√¥ h√¨nh trong b·∫£ng so s√°nh ƒë·ªÉ xem ma tr·∫≠n nh·∫ßm l·∫´n">
                Click on a model row in the comparison table to view its confusion matrix
            </span>
        </p>
    </div>
    
    <div id="confusion-matrix-plotly" style="display: flex; justify-content: center; align-items: center; width: 100%;"></div>
</section>

    </div>

    <!-- Footer -->
    <footer style="background: var(--ai-bg-light); color: var(--ai-text); text-align: center; padding: 2rem; margin-top: 4rem; border-top: 1px solid var(--ai-border);">
        <p data-en="¬© 2025 AI Learning Hub - Educational content for AI enthusiasts" data-vi="¬© 2025 AI Learning Hub - N·ªôi dung gi√°o d·ª•c cho nh·ªØng ng∆∞·ªùi ƒëam m√™ AI">¬© 2025 AI Learning Hub - Educational content for AI enthusiasts</p>
        <div id="theme-selector" style="margin-top: 1rem;"></div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    
    <!-- Load shared components JavaScript -->
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/utils/ThemeManager.js"></script>
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/utils/LanguageManager.js"></script>
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/components/Header.js"></script>
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/components/Hero.js"></script>
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/components/ComparisonTable.js"></script>
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/components/Pipeline.js"></script>
    
    
<script>
    // Initialize components when page loads
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize header
        const header = new AIHeader('ai-header', {
            brand: 'üìö AI Learning Hub',
            brandUrl: '../../index.html',
            navItems: [
                { label: 'Home', url: '../../index.html', active: false },
                { label: 'Data Analysis', url: '../../01_Data_Analysis/', active: false },
                { label: 'Machine Learning', url: '../../02_Machine_Learning/', active: false },
                { label: 'Computer Vision', url: '../index.html', active: false },
                { label: 'Classification', url: 'index.html', active: true }
            ]
        });
        
        // Initialize hero section with dynamic data
        fetch('./assets/data/model-classification-comparison-data.json')
            .then(response => response.json())
            .then(data => {
                // Find best accuracy from real data
                let bestAccuracy = 0;
                let bestModel = '';
                    Object.entries(data.models).forEach(([modelName, model]) => {
                        if (model.accuracy > bestAccuracy) {
                            bestAccuracy = model.accuracy;
                            bestModel = modelName;
                        }
                    });
                
                const hero = new AIHero('ai-hero', {
                    title: 'üìä Breed Classification',
                    titleVi: 'üìä Ph√¢n Lo·∫°i Gi·ªëng Ch√≥',
                    subtitle: '37-class breed classification using CNN architectures and transfer learning',
                    subtitleVi: 'Ph√¢n lo·∫°i 37 gi·ªëng ch√≥ s·ª≠ d·ª•ng ki·∫øn tr√∫c CNN v√† transfer learning',
                    stats: [
                        { value: '37', label: 'Breeds', labelVi: 'Gi·ªëng' },
                        { value: '7,393', label: 'Images', labelVi: '·∫¢nh' },
                        { value: '10', label: 'Models', labelVi: 'M√¥ H√¨nh' },
                        { value: (bestAccuracy * 100).toFixed(1) + '%', label: 'Best Accuracy', labelVi: 'ƒê·ªô Ch√≠nh X√°c T·ªët Nh·∫•t' }
                    ],
                    gradient: false
                });
                
                // Initialize comparison tables with real data
                initializeComparisonTables(data);
            });
        
        // Initialize theme selector
        window.AIThemeManager.createThemeSelector('theme-selector');
        
        // Initialize language manager
        window.AILanguageManager.createLanguageSwitcher('language-switcher');
        
        // Initialize comparison tab switching
        window.switchComparisonTab = function(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.comparison-tab-content');
            tabContents.forEach(content => content.style.display = 'none');
            
            // Remove active class from all buttons
            const tabButtons = document.querySelectorAll('.comparison-tab-btn');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab content
            const selectedTab = document.getElementById(tabName + '-tab');
            if (selectedTab) {
                selectedTab.style.display = 'block';
            }
            
            // Add active class to clicked button
            const clickedButton = document.querySelector(`[onclick="switchComparisonTab('${tabName}')"]`);
            if (clickedButton) {
                clickedButton.classList.add('active');
            }
            
            // If formulas tab is selected, render KaTeX
            if (tabName === 'formulas') {
                setTimeout(() => {
                    const formulasContainer = document.querySelector('#formulas-tab .formulas-content');
                    if (formulasContainer) {
                        // Add formulas content if not already present
                        if (!formulasContainer.innerHTML.trim()) {
                            formulasContainer.innerHTML = `
                                <!-- Classification Metrics Formulas -->
                                <div class="formulas-section">
                                    <h3>üìä Classification Metrics Formulas</h3>
                                    
                                    <!-- Basic Metrics -->
                                    <div class="metric-group">
                                        <h4>üéØ Basic Classification Metrics</h4>
                                        
                                        <div class="formula-card">
                                            <h5>Accuracy</h5>
                                            <div class="formula">
                                                \\[\\text{Accuracy} = \\frac{\\text{TP} + \\text{TN}}{\\text{TP} + \\text{TN} + \\text{FP} + \\text{FN}} = \\frac{\\text{Correct Predictions}}{\\text{Total Predictions}}\\]
                                            </div>
                                            <p class="formula-description">
                                                Overall correctness of the model across all classes
                                            </p>
                                        </div>
                                        
                                        <div class="formula-card">
                                            <h5>Precision (per class i)</h5>
                                            <div class="formula">
                                                \\[\\text{Precision}_i = \\frac{\\text{TP}_i}{\\text{TP}_i + \\text{FP}_i} = \\frac{\\text{True Positives}_i}{\\text{True Positives}_i + \\text{False Positives}_i}\\]
                                            </div>
                                            <p class="formula-description">
                                                Of all instances predicted as class i, how many were actually class i?
                                            </p>
                                        </div>
                                        
                                        <div class="formula-card">
                                            <h5>Recall (per class i)</h5>
                                            <div class="formula">
                                                \\[\\text{Recall}_i = \\frac{\\text{TP}_i}{\\text{TP}_i + \\text{FN}_i} = \\frac{\\text{True Positives}_i}{\\text{True Positives}_i + \\text{False Negatives}_i}\\]
                                            </div>
                                            <p class="formula-description">
                                                Of all actual instances of class i, how many did we correctly identify?
                                            </p>
                                        </div>
                                        
                                        <div class="formula-card">
                                            <h5>F1-Score (per class i)</h5>
                                            <div class="formula">
                                                \\[\\text{F1}_i = \\frac{2 \\times \\text{Precision}_i \\times \\text{Recall}_i}{\\text{Precision}_i + \\text{Recall}_i} = \\frac{2 \\times \\text{TP}_i}{2 \\times \\text{TP}_i + \\text{FP}_i + \\text{FN}_i}\\]
                                            </div>
                                            <p class="formula-description">
                                                Harmonic mean of precision and recall for class i
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <!-- Top-K Accuracy -->
                                    <div class="metric-group">
                                        <h4>üèÜ Top-K Accuracy</h4>
                                        
                                        <div class="formula-card">
                                            <h5>Top-5 Accuracy</h5>
                                            <div class="formula">
                                                \\[\\text{Top-5 Accuracy} = \\frac{1}{N} \\sum_{i=1}^{N} \\mathbb{1}[\\text{true\\_label}_i \\in \\text{top\\_5\\_predictions}_i]\\]
                                            </div>
                                            <p class="formula-description">
                                                Percentage of samples where the true class is among the top 5 predicted classes
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <!-- Averaging Methods -->
                                    <div class="metric-group">
                                        <h4>üìà Averaging Methods</h4>
                                        
                                        <div class="formula-card">
                                            <h5>Macro Average</h5>
                                            <div class="formula">
                                                \\[\\text{Metric}_{\\text{macro}} = \\frac{1}{C} \\sum_{i=1}^{C} \\text{Metric}_i\\]
                                            </div>
                                            <p class="formula-description">
                                                Equal weight to each class (good for imbalanced datasets)
                                            </p>
                                        </div>
                                        
                                        <div class="formula-card">
                                            <h5>Weighted Average</h5>
                                            <div class="formula">
                                                \\[\\text{Metric}_{\\text{weighted}} = \\frac{\\sum_{i=1}^{C} \\text{Metric}_i \\times \\text{Support}_i}{\\sum_{i=1}^{C} \\text{Support}_i}\\]
                                            </div>
                                            <p class="formula-description">
                                                Weight by class frequency (reflects overall performance)
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <!-- Resource Metrics -->
                                    <div class="metric-group">
                                        <h4>‚ö° Resource Metrics</h4>
                                        
                                        <div class="formula-card">
                                            <h5>FLOPs (Floating Point Operations)</h5>
                                            <div class="formula">
                                                \\[\\text{FLOPs} = \\sum_{l=1}^{L} \\text{FLOPs}_l = \\sum_{l=1}^{L} 2 \\times \\text{MACs}_l\\]
                                            </div>
                                            <p class="formula-description">
                                                Total floating point operations for one forward pass (FLOPs ‚âà 2 √ó MACs)
                                            </p>
                                        </div>
                                        
                                        <div class="formula-card">
                                            <h5>Model Parameters</h5>
                                            <div class="formula">
                                                \\[\\text{Parameters} = \\sum_{l=1}^{L} \\text{params}_l = \\sum_{l=1}^{L} \\text{weights}_l + \\text{biases}_l\\]
                                            </div>
                                            <p class="formula-description">
                                                Total number of trainable parameters in the model
                                            </p>
                                        </div>
                                        
                                        <div class="formula-card">
                                            <h5>Transfer Learning</h5>
                                            <div class="formula">
                                                \\[\\text{Trainable Ratio} = \\frac{\\text{Trainable Parameters}}{\\text{Total Parameters}} = \\frac{\\text{Classifier Head}}{\\text{CNN Backbone + Classifier Head}}\\]
                                            </div>
                                            <p class="formula-description">
                                                In transfer learning, only classifier head is trainable (typically 0.1-1% of total parameters)
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <style>
                                .formulas-section {
                                    max-width: 1000px;
                                    margin: 0 auto;
                                    padding: 2rem;
                                }
                                
                                .metric-group {
                                    margin-bottom: 2rem;
                                    padding: 1.5rem;
                                    background: #f8f9fa;
                                    border-radius: 12px;
                                    border-left: 4px solid #007bff;
                                }
                                
                                .metric-group h4 {
                                    color: #007bff;
                                    margin-bottom: 1.5rem;
                                    font-size: 1.3rem;
                                }
                                
                                .formula-card {
                                    background: white;
                                    padding: 1.5rem;
                                    margin-bottom: 1.5rem;
                                    border-radius: 8px;
                                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                                    border-left: 3px solid #28a745;
                                }
                                
                                .formula-card h5 {
                                    color: #28a745;
                                    margin-bottom: 1rem;
                                    font-size: 1.1rem;
                                }
                                
                                .formula {
                                    text-align: center;
                                    margin: 1rem 0;
                                    padding: 1rem;
                                    background: #f8f9fa;
                                    border-radius: 6px;
                                    font-size: 1.1rem;
                                }
                                
                                .formula-description {
                                    color: #666;
                                    font-style: italic;
                                    margin-top: 0.5rem;
                                    line-height: 1.5;
                                }
                                </style>
                            `;
                        }
                        
                        // Wait for KaTeX to load
                        setTimeout(() => {
                            if (typeof renderMathInElement !== 'undefined') {
                                console.log('Rendering KaTeX for formulas tab...');
                                renderMathInElement(formulasContainer, {
                                    delimiters: [
                                        {left: '\\(', right: '\\)', display: false},
                                        {left: '\\[', right: '\\]', display: true}
                                    ],
                                    throwOnError: false
                                });
                                console.log('KaTeX rendering completed for formulas tab');
                            } else {
                                console.error('renderMathInElement not available, trying alternative...');
                                // Fallback: try direct KaTeX rendering
                                if (typeof katex !== 'undefined') {
                                    const mathElements = formulasContainer.querySelectorAll('.formula');
                                    mathElements.forEach(element => {
                                        try {
                                            katex.render(element.textContent, element, {
                                                throwOnError: false
                                            });
                                        } catch (e) {
                                            console.error('KaTeX rendering error:', e);
                                        }
                                    });
                                }
                            }
                        }, 200);
                    }
                }, 100);
            }
        };
        
        // Function to switch pipeline detail tabs
        window.switchPipelineDetailTab = function(tabName) {
            // Hide all pipeline detail tab contents
            const detailTabContents = document.querySelectorAll('.pipeline-detail-tab-content');
            detailTabContents.forEach(content => content.style.display = 'none');
            
            // Remove active class from all pipeline detail tab buttons
            const detailTabButtons = document.querySelectorAll('.pipeline-detail-tab-btn');
            detailTabButtons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected pipeline detail tab content
            const selectedDetailTab = document.getElementById(tabName + '-detail-tab');
            if (selectedDetailTab) {
                selectedDetailTab.style.display = 'block';
            }
            
            // Add active class to clicked pipeline detail button
            const clickedDetailButton = document.querySelector(`[onclick="switchPipelineDetailTab('${tabName}')"]`);
            if (clickedDetailButton) {
                clickedDetailButton.classList.add('active');
            }
        };
        
        // Function to toggle pipeline navigation
        window.togglePipelineNav = function() {
            const navButtons = document.getElementById('pipeline-nav-buttons');
            const navIcon = document.querySelector('.nav-icon');
            const pipelineDetailTabs = document.querySelector('.pipeline-detail-tabs');
            
            if (navButtons && navIcon && pipelineDetailTabs) {
                if (navButtons.style.display === 'none' || navButtons.style.display === '') {
                    // Expand: Show navigation and content
                    navButtons.style.display = 'grid';
                    // Show all tab contents
                    const tabContents = pipelineDetailTabs.querySelectorAll('.pipeline-detail-tab-content');
                    tabContents.forEach(content => {
                        if (content.id === 'input-detail-tab') {
                            content.style.display = 'block';
                        } else {
                            content.style.display = 'none';
                        }
                    });
                    navIcon.textContent = '‚ñº';
                } else {
                    // Collapse: Hide navigation and content
                    navButtons.style.display = 'none';
                    // Hide all tab contents
                    const tabContents = pipelineDetailTabs.querySelectorAll('.pipeline-detail-tab-content');
                    tabContents.forEach(content => {
                        content.style.display = 'none';
                    });
                    navIcon.textContent = '‚ñ∂';
                }
            }
        };
        
        // Function to initialize comparison tables with real data
        function initializeComparisonTables(data) {
            // Populate Performance table
            const performanceTbody = document.getElementById('performance-table-body');
            if (performanceTbody) {
                performanceTbody.innerHTML = '';
                
                // Group models by architecture and augmentation
                const modelGroups = {};
                Object.entries(data.models).forEach(([modelName, model]) => {
                    const baseName = modelName.replace(' (Aug)', '').replace(' (No Aug)', '');
                    const isAug = modelName.includes('(Aug)');
                    
                    if (!modelGroups[baseName]) {
                        modelGroups[baseName] = { aug: null, noAug: null };
                    }
                    
                    if (isAug) {
                        modelGroups[baseName].aug = { name: modelName, data: model };
                    } else {
                        modelGroups[baseName].noAug = { name: modelName, data: model };
                    }
                });
                
                const metrics = ['precision', 'recall', 'f1_score', 'accuracy', 'top5_accuracy'];
                
                Object.entries(modelGroups).forEach(([baseName, group]) => {
                    // Create row for Augmented version
                    if (group.aug) {
                        const row = document.createElement('tr');
                        let rowHTML = `<td><strong>${baseName} (Aug)</strong></td>`;
                        
                        metrics.forEach(metric => {
                            const value = group.aug.data[metric];
                            const isBest = isBestInColumn(Object.entries(data.models), metric, value);
                            const className = isBest ? 'best' : '';
                            rowHTML += `<td><span class="metric-value ${className}">${(value * 100).toFixed(1)}</span></td>`;
                        });
                        
                        row.innerHTML = rowHTML;
                        performanceTbody.appendChild(row);
                    }
                    
                    // Create row for No Augmentation version
                    if (group.noAug) {
                        const row = document.createElement('tr');
                        let rowHTML = `<td><strong>${baseName} (No Aug)</strong></td>`;
                        
                        metrics.forEach(metric => {
                            const value = group.noAug.data[metric];
                            const isBest = isBestInColumn(Object.entries(data.models), metric, value);
                            const className = isBest ? 'best' : '';
                            rowHTML += `<td><span class="metric-value ${className}">${(value * 100).toFixed(1)}</span></td>`;
                        });
                        
                        row.innerHTML = rowHTML;
                        performanceTbody.appendChild(row);
                    }
                });
            }
            
            // Populate Resources table
            const resourcesTbody = document.getElementById('resources-table-body');
            if (resourcesTbody) {
                resourcesTbody.innerHTML = '';
                
                // Group models by architecture and augmentation
                const modelGroups = {};
                Object.entries(data.models).forEach(([modelName, model]) => {
                    const baseName = modelName.replace(' (Aug)', '').replace(' (No Aug)', '');
                    const isAug = modelName.includes('(Aug)');
                    
                    if (!modelGroups[baseName]) {
                        modelGroups[baseName] = { aug: null, noAug: null };
                    }
                    
                    if (isAug) {
                        modelGroups[baseName].aug = { name: modelName, data: model };
                    } else {
                        modelGroups[baseName].noAug = { name: modelName, data: model };
                    }
                });
                
                const resourceMetrics = ['training_time', 'inference_time', 'flops', 'parameters', 'model_size'];
                
                Object.entries(modelGroups).forEach(([baseName, group]) => {
                    // Create row for Augmented version
                    if (group.aug) {
                        const row = document.createElement('tr');
                        let rowHTML = `<td><strong>${baseName} (Aug)</strong></td>`;
                        
                        resourceMetrics.forEach(metric => {
                            const value = group.aug.data[metric];
                            const isBest = isBestInColumn(Object.entries(data.models), metric, value, 'resources');
                            const className = isBest ? 'best' : '';
                            let displayValue;
                            
                            if (metric === 'flops') {
                                displayValue = `${(value / 1e9).toFixed(1)}`;
                            } else if (metric === 'parameters') {
                                displayValue = `${value.toFixed(1)}`;
                            } else if (metric === 'model_size') {
                                displayValue = `${value.toFixed(1)}`;
                            } else if (metric === 'training_time') {
                                displayValue = `${value.toFixed(1)}`;
                            } else {
                                displayValue = `${value.toFixed(1)}`;
                            }
                            
                            rowHTML += `<td><span class="metric-value ${className}">${displayValue}</span></td>`;
                        });
                        
                        row.innerHTML = rowHTML;
                        if (row.querySelector('.best')) {
                            row.classList.add('best-row');
                        }
                        resourcesTbody.appendChild(row);
                    }
                    
                    // Create row for No Augmentation version
                    if (group.noAug) {
                        const row = document.createElement('tr');
                        let rowHTML = `<td><strong>${baseName} (No Aug)</strong></td>`;
                        
                        resourceMetrics.forEach(metric => {
                            const value = group.noAug.data[metric];
                            const isBest = isBestInColumn(Object.entries(data.models), metric, value, 'resources');
                            const className = isBest ? 'best' : '';
                            let displayValue;
                            
                            if (metric === 'flops') {
                                displayValue = `${(value / 1e9).toFixed(1)}`;
                            } else if (metric === 'parameters') {
                                displayValue = `${value.toFixed(1)}`;
                            } else if (metric === 'model_size') {
                                displayValue = `${value.toFixed(1)}`;
                            } else if (metric === 'training_time') {
                                displayValue = `${value.toFixed(1)}`;
                            } else {
                                displayValue = `${value.toFixed(1)}`;
                            }
                            
                            rowHTML += `<td><span class="metric-value ${className}">${displayValue}</span></td>`;
                        });
                        
                        row.innerHTML = rowHTML;
                        if (row.querySelector('.best')) {
                            row.classList.add('best-row');
                        }
                        resourcesTbody.appendChild(row);
                    }
                });
            }
            
            // Add click handlers to comparison table rows
            const comparisonRows = document.querySelectorAll('.comparison-table tbody tr');
            comparisonRows.forEach((row, index) => {
                row.style.cursor = 'pointer';
                row.addEventListener('click', function() {
                    // Remove previous selection
                    comparisonRows.forEach(r => r.style.backgroundColor = '');
                    
                    // Highlight selected row
                    this.style.backgroundColor = '#e3f2fd';
                    
                    // Get model name from first cell
                    const modelName = this.cells[0].textContent.trim();
                    
                    // Clear selection info
                    const infoDiv = document.getElementById('model-selection-info');
                    infoDiv.innerHTML = '';
                    
                    // Show confusion matrix for selected model
                    showConfusionMatrix(modelName, data);
                });
            });
        }
        
        // Helper function to check if value is best in column
        function isBestInColumn(models, metric, value, type = 'performance') {
            if (type === 'performance') {
                // Higher is better for performance metrics
                const maxValue = Math.max(...models.map(([name, model]) => model[metric]));
                return Math.abs(value - maxValue) < 0.0001; // Floating point tolerance
            } else if (type === 'resources') {
                // Lower is better for resource metrics
                const minValue = Math.min(...models.map(([name, model]) => model[metric]));
                return Math.abs(value - minValue) < 0.0001; // Floating point tolerance
            }
            return false;
        }
        
        // Function to show confusion matrix for selected model
        function showConfusionMatrix(modelName, data) {
            // Model names now match exactly with data keys
            const modelKey = modelName;
            
            const confusionMatrix = data.models[modelKey].confusion_matrix;
            if (!confusionMatrix) {
                console.error('No confusion data found for model:', modelKey);
                return;
            }
            
            const matrix = confusionMatrix;
            // Use real class names for Oxford Pets (37 breeds)
            const classNames = [
                'Abyssinian', 'Bengal', 'Birman', 'Bombay', 'British_Shorthair', 'Egyptian_Mau', 'Maine_Coon', 
                'Persian', 'Ragdoll', 'Russian_Blue', 'Siamese', 'Sphynx', 'american_bulldog', 
                'american_pit_bull_terrier', 'basset_hound', 'beagle', 'boxer', 'chihuahua', 
                'english_cocker_spaniel', 'english_setter', 'german_shorthaired', 'great_pyrenees', 
                'havanese', 'japanese_chin', 'keeshond', 'leonberger', 'miniature_pinscher', 
                'newfoundland', 'pomeranian', 'pug', 'saint_bernard', 'samoyed', 'scottish_terrier', 
                'shiba_inu', 'staffordshire_bull_terrier', 'wheaten_terrier', 'yorkshire_terrier'
            ];
            
            const plotData = [{
                z: matrix,
                x: classNames,
                y: classNames,
                type: 'heatmap',
                colorscale: 'Blues',
                showscale: true,
                hoverongaps: false,
                hovertemplate: 'True: %{y}<br>Predicted: %{x}<br>Count: %{z}<extra></extra>'
            }];
            
            const layout = {
                title: {
                    text: `Confusion Matrix - ${modelName}`,
                    font: { size: 16 }
                },
                xaxis: {
                    title: 'Predicted Class',
                    tickangle: -45,
                    tickfont: { size: 10 }
                },
                yaxis: {
                    title: 'True Class',
                    tickfont: { size: 10 }
                },
                width: 800,
                height: 600,
                margin: { l: 150, r: 50, t: 80, b: 150 }
            };
            
            const config = {
                displayModeBar: true,
                displaylogo: false,
                modeBarButtonsToRemove: ['pan2d', 'lasso2d', 'select2d']
            };
            
            // Render the confusion matrix
            Plotly.newPlot('confusion-matrix-plotly', plotData, layout, config)
                .then(() => {
                    console.log('Plotly heatmap rendered successfully!');
                })
                .catch(error => {
                    console.error('Error rendering Plotly heatmap:', error);
                });
        }
    });
</script>

<style>
/* Enhanced Table Styles */
.enhanced-table {
    border-collapse: collapse;
    width: 100%;
    margin: 0;
    font-size: 14px;
}

.enhanced-table .table-header-row {
    background: linear-gradient(135deg, #8B5CF6, #7C3AED) !important;
    color: white !important;
    font-weight: 600;
    text-align: center;
    height: 50px;
}

.enhanced-table .table-header-row th {
    padding: 12px 8px;
    border: none;
    font-size: 13px;
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.enhanced-table .model-column {
    text-align: left !important;
    padding-left: 16px !important;
}

.enhanced-table .metric-column {
    text-align: center;
    font-weight: 600;
}

.enhanced-table tbody tr {
    height: 36px; /* 60% of original 60px */
    border-bottom: 1px solid #E5E7EB;
    transition: all 0.2s ease;
}

.enhanced-table tbody tr:hover {
    background-color: #F9FAFB;
}

.enhanced-table tbody tr td {
    padding: 8px 12px;
    text-align: center;
    vertical-align: middle;
    border: none;
}

.enhanced-table tbody tr td:first-child {
    text-align: left;
    padding-left: 16px;
    font-weight: 500;
    color: #374151;
}

.enhanced-table tbody tr td:not(:first-child) {
    color: #2563EB; /* Blue color for numbers */
    font-weight: 500;
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
}

/* Best value highlighting - only highlight the numbers, not the entire row */
.enhanced-table tbody tr.best-row {
    /* No background change for the row */
}

.enhanced-table tbody tr.best-row td {
    /* Keep normal row styling */
}

.enhanced-table tbody tr.best-row td:first-child {
    /* Keep normal model column styling */
}

/* Highlight only the best numbers */
.enhanced-table .metric-value.best {
    background-color: #10B981 !important;
    color: white !important;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 4px;
    display: inline-block;
}

/* Table note styling */
.table-note {
    margin-top: 12px;
    padding: 8px 12px;
    background-color: #F3F4F6;
    border-left: 4px solid #8B5CF6;
    border-radius: 4px;
    font-size: 12px;
    color: #6B7280;
}

.table-note strong {
    color: #374151;
    font-weight: 600;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .enhanced-table {
        font-size: 12px;
    }
    
    .enhanced-table .table-header-row th {
        padding: 8px 4px;
        font-size: 11px;
    }
    
    .enhanced-table tbody tr {
        height: 32px;
    }
    
    .enhanced-table tbody tr td {
        padding: 6px 8px;
    }
}

/* Remove arrow indicators from CSS since they're already in HTML */

/* Pipeline Detail Tabs Styles */
.pipeline-detail-tab-content {
    display: none;
    padding: 2rem;
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    margin-top: 1rem;
}

.pipeline-detail-tab-content.active {
    display: block;
}

/* Collapsible Navigation */
.pipeline-navigation {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    margin-bottom: 2rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    overflow: hidden;
}

.nav-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
}

.nav-header:hover {
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
}

.nav-header h4 {
    margin: 0;
    font-size: 1.2rem;
    font-weight: 600;
}

.nav-toggle {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.nav-icon {
    font-size: 1.2rem;
    transition: transform 0.3s ease;
}

.nav-text {
    font-size: 0.9rem;
    opacity: 0.9;
}

.pipeline-detail-tab-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    padding: 1.5rem;
    background: #f8f9fa;
    border-top: 1px solid #e5e7eb;
}

.pipeline-detail-tab-btn {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    color: #6b7280;
    text-align: left;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.pipeline-detail-tab-btn:hover {
    background: #f0f9ff;
    color: #1e40af;
    border-color: #3b82f6;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.pipeline-detail-tab-btn.active {
    background: #4f46e5;
    color: white;
    border-color: #4f46e5;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
}

.tab-icon {
    font-size: 1.5rem;
    margin-bottom: 0.25rem;
}

.tab-title {
    font-weight: 600;
    font-size: 1rem;
    margin-bottom: 0.25rem;
}

.tab-desc {
    font-size: 0.8rem;
    opacity: 0.8;
    line-height: 1.3;
}

.pipeline-detail-content {
    max-width: 1200px;
    margin: 0 auto;
}

.pipeline-detail-content h3 {
    color: #1f2937;
    font-size: 1.8rem;
    margin-bottom: 1rem;
    text-align: center;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.pipeline-detail-intro {
    text-align: center;
    color: #6b7280;
    font-size: 1.1rem;
    margin-bottom: 3rem;
}

.detail-group {
    margin-bottom: 3rem;
}

.detail-group h4 {
    color: #4f46e5;
    font-size: 1.4rem;
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 3px solid #e5e7eb;
}

.group-description {
    color: #6b7280;
    margin-bottom: 1.5rem;
    font-style: italic;
}

.dataset-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.stat-card {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.stat-card:hover {
    box-shadow: 0 4px 16px rgba(79, 70, 229, 0.15);
    border-color: #4f46e5;
    transform: translateY(-2px);
}

.stat-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
}

.stat-number {
    font-size: 2rem;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 0.5rem;
}

.stat-label {
    color: #6b7280;
    font-size: 0.9rem;
}

.sample-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.gallery-item {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.gallery-item:hover {
    box-shadow: 0 4px 16px rgba(79, 70, 229, 0.15);
    transform: translateY(-2px);
}

.sample-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
}

.image-info {
    padding: 1rem;
}

.breed-name {
    font-weight: 600;
    color: #1f2937;
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
}

.image-meta {
    display: flex;
    gap: 1rem;
}

.category, .split {
    background: #f3f4f6;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
    color: #6b7280;
}

.category {
    background: #dbeafe;
    color: #1e40af;
}

.split {
    background: #dcfce7;
    color: #166534;
}

.principles-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.principle-card {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.principle-card:hover {
    box-shadow: 0 4px 16px rgba(79, 70, 229, 0.15);
    border-color: #4f46e5;
    transform: translateY(-2px);
}

.principle-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
}

.principle-card h5 {
    color: #1f2937;
    font-size: 1.1rem;
    margin-bottom: 1rem;
}

.principle-card p {
    color: #6b7280;
    line-height: 1.5;
}

.practices-list {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.practice-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.practice-item:hover {
    box-shadow: 0 4px 16px rgba(79, 70, 229, 0.15);
    border-color: #4f46e5;
}

.practice-number {
    background: #4f46e5;
    color: white;
    width: 2rem;
    height: 2rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    flex-shrink: 0;
}

.practice-content h5 {
    color: #1f2937;
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
}

.practice-content p {
    color: #6b7280;
    line-height: 1.5;
}

@media (max-width: 768px) {
    .dataset-stats {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
    
    .sample-gallery {
        grid-template-columns: 1fr;
    }
    
    .principles-grid {
        grid-template-columns: 1fr;
    }
}

/* Code Highlighting Styles */
.code-example {
    background: #f8f9fa;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    margin: 1rem 0;
    overflow: hidden;
}

.code-example pre {
    margin: 0;
    padding: 1rem;
    background: #1e1e1e;
    color: #d4d4d4;
    font-family: 'Monaco', 'Courier New', monospace;
    font-size: 0.9rem;
    line-height: 1.5;
    overflow-x: auto;
}

.code-example code {
    background: none;
    padding: 0;
    color: inherit;
    font-size: inherit;
}

/* Tensor Format Styles */
.tensor-format-card {
    background: #ffffff;
    border: 2px solid #4f46e5;
    border-radius: 12px;
    padding: 2rem;
    margin: 1.5rem 0;
    box-shadow: 0 4px 6px rgba(79, 70, 229, 0.1);
}

.tensor-formula {
    text-align: center;
    font-size: 1.5rem;
    font-weight: 700;
    color: #4f46e5;
    margin-bottom: 2rem;
    padding: 1rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.dimension-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
}

.dimension-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #4f46e5;
}

.dimension-symbol {
    background: #4f46e5;
    color: white;
    width: 2rem;
    height: 2rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.1rem;
    flex-shrink: 0;
}

.dimension-name {
    font-weight: 600;
    color: #1f2937;
    min-width: 80px;
}

.dimension-desc {
    color: #6b7280;
    font-size: 0.9rem;
}

/* Architecture Examples */
.architecture-examples {
    margin-top: 2rem;
}

.example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.example-card {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.example-card:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
}

.example-card h6 {
    color: #4f46e5;
    margin-bottom: 0.5rem;
}

/* Channel Comparison */
.channel-comparison {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.framework-card {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.framework-card:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    border-color: #4f46e5;
}

.framework-card h5 {
    color: #1f2937;
    margin-bottom: 1rem;
    font-size: 1.2rem;
}

.framework-features ul {
    list-style: none;
    padding: 0;
    margin-top: 1rem;
}

.framework-features li {
    padding: 0.5rem 0;
    border-bottom: 1px solid #f3f4f6;
    color: #6b7280;
}

.framework-features li:last-child {
    border-bottom: none;
}

.framework-features li::before {
    content: "‚úì";
    color: #10b981;
    font-weight: bold;
    margin-right: 0.5rem;
}

/* Conversion Section */
.conversion-section {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 2rem 0;
}

.conversion-section h5 {
    color: #92400e;
    margin-bottom: 1rem;
}

/* Dataset Section */
.dataset-section, .dataloader-section {
    margin: 2rem 0;
}

.principle-card {
    background: #f0f9ff;
    border: 1px solid #0ea5e9;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1rem 0;
}

.principle-card h6 {
    color: #0c4a6e;
    margin-bottom: 1rem;
}

.principle-card ul {
    margin: 0;
    padding-left: 1.5rem;
}

.principle-card li {
    color: #0c4a6e;
    margin-bottom: 0.5rem;
}

/* Parameter Grid */
.parameter-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.param-card {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.param-card h6 {
    color: #4f46e5;
    margin-bottom: 0.5rem;
    font-size: 1rem;
}

.param-card p {
    color: #6b7280;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.param-example {
    background: #f3f4f6;
    padding: 0.5rem;
    border-radius: 4px;
    font-family: 'Monaco', 'Courier New', monospace;
    font-size: 0.8rem;
    color: #374151;
}

/* Preprocessing Steps */
.preprocessing-steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin: 2rem 0;
}

.step-card {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.step-card:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-color: #4f46e5;
}

.step-number {
    background: #4f46e5;
    color: white;
    width: 2rem;
    height: 2rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    flex-shrink: 0;
}

.step-content h5 {
    color: #1f2937;
    margin-bottom: 0.5rem;
}

.step-content p {
    color: #6b7280;
    font-size: 0.9rem;
}

/* Complete Pipeline */
.complete-pipeline {
    background: #f8f9fa;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 2rem 0;
}

.complete-pipeline h5 {
    color: #1f2937;
    margin-bottom: 1rem;
}

/* Additional Topics */
.additional-topics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
}

.topic-card {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.topic-card:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-color: #4f46e5;
}

.topic-card h5 {
    color: #1f2937;
    margin-bottom: 1rem;
}

.topic-card p {
    color: #6b7280;
    margin-bottom: 1rem;
}

.topic-card ul {
    margin: 0;
    padding-left: 1.5rem;
}

.topic-card li {
    color: #6b7280;
    margin-bottom: 0.5rem;
}

.links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.links a {
    color: #4f46e5;
    text-decoration: none;
    padding: 0.5rem;
    border-radius: 4px;
    background: #f0f9ff;
    transition: all 0.3s ease;
}

.links a:hover {
    background: #dbeafe;
    color: #1e40af;
}

/* Initialize navigation as collapsed */
#pipeline-nav-buttons {
    display: none;
}

.pipeline-detail-tabs {
    display: block;
}

/* Responsive Design */
@media (max-width: 768px) {
    .dimension-list {
        grid-template-columns: 1fr;
    }
    
    .channel-comparison {
        grid-template-columns: 1fr;
    }
    
    .parameter-grid {
        grid-template-columns: 1fr;
    }
    
    .preprocessing-steps {
        grid-template-columns: 1fr;
    }
    
    .additional-topics {
        grid-template-columns: 1fr;
    }
    
    .pipeline-detail-tab-buttons {
        grid-template-columns: 1fr;
    }
    
    .nav-header {
        padding: 0.75rem 1rem;
    }
    
    .nav-header h4 {
        font-size: 1rem;
    }
    
    .tab-title {
        font-size: 0.9rem;
    }
    
    .tab-desc {
        font-size: 0.75rem;
    }
}
</style>

<!-- Prism.js for code highlighting -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

</body>
</html>