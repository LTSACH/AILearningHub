<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResNet50 Interactive Visualizer - AI Learning Hub</title>
    
    <!-- Load shared components from centralized library -->
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/themes/default.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/header.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/hero.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/theme-selector.css">
    <link rel="stylesheet" href="https://ltsach.github.io/AILearningHub/ai-report-components/css/components/language-switcher.css">
    
    <!-- Prism.js for code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    
    <!-- Custom styles -->
    <link rel="stylesheet" href="assets/css/resnet50-visualizer.css?v=31">
    
    <!-- Custom scripts -->
</head>
<body>
    <!-- Header -->
    <div id="ai-header">
        <!-- Theme Selector in Header -->
        <div id="theme-selector" class="ai-theme-selector"></div>
    </div>

    <!-- Language Switcher (Top-right) -->
    <div id="language-switcher" class="ai-language-switcher fixed"></div>

    <div class="ai-container">
        
    <!-- Hero Section -->
    <div id="ai-hero"></div>

    <!-- Model Container -->
    <section class="model-container">
        <!-- 3.1 Control Panel -->
        <div class="control-panel">
            <!-- Single Row: All Controls -->
            <div class="control-row">
                <div class="input-controls">
                    <span class="input-label">Input (N, C, H, W)</span>
                    <label>N <input id="inputN" type="number" value="1" min="1"></label>
                    <label>C <input id="inputC" type="number" value="3" min="1"></label>
                    <label>H <input id="inputH" type="number" value="224" min="1"></label>
                    <label>W <input id="inputW" type="number" value="224" min="1"></label>
                    <button id="applyInputs" class="btn btn-primary">Apply</button>
                    <button id="resetInputs" class="btn btn-secondary">Reset</button>
                </div>
                <div class="action-controls">
                    <button id="zoomIn" class="btn btn-secondary">Ôºã Zoom In</button>
                    <button id="zoomOut" class="btn btn-secondary">Ôºç Zoom Out</button>
                    <button id="zoomFit" class="btn btn-secondary">‚§¢ Fit</button>
                    <button id="zoomReset" class="btn btn-secondary">‚ü≤ Reset</button>
                    <button id="fullscreenBtn" class="btn btn-primary">‚õ∂ Fullscreen</button>
                </div>
            </div>
        </div>

        <!-- 3.2 Main Visualization Area -->
        <div class="main-visualization-area">
            <!-- Left Side (70%) -->
            <div class="left-side">
                <!-- Visualization Canvas (75% height) -->
                <div class="viz-container">
                    <div class="viz-navigation">
                        <button id="backBtn" class="btn btn-secondary" disabled>‚¨Ö Back</button>
                        <span id="breadcrumb" class="breadcrumb"></span>
                    </div>
                    <div id="formula" class="formula">y = x + F(x) ‚Ä¢ out = ReLU(y)</div>
                    <div id="visualization" class="visualization-canvas"></div>
                    <div id="tooltip" class="tooltip"></div>
                </div>

                <!-- Implementation Panel (25% height) -->
                <div id="codePanel" class="code-implementation-panel">
                    <div id="codeResizeHandle" class="code-resize-handle" title="Drag to resize"></div>
                    <div class="code-panel-header">
                        <span class="code-panel-title">Implementation</span>
                        <div class="code-panel-controls">
                            <button id="copyCode" class="btn btn-secondary">Copy</button>
                            <button id="codeToggle" class="btn btn-secondary">‚ñº Collapse</button>
                        </div>
                    </div>
                    <div class="code-panel-content">
                        <pre class="language-python"><code id="codeBlock" class="language-python"># Hover a block to see its implementation</code></pre>
                    </div>
                </div>
            </div>

            <!-- Right Side (30%) -->
            <div class="right-side">
                <!-- Shape Map Panel (Collapsible) -->
                <div id="shapeMapPanel" class="shape-map-panel">
                    <div class="shape-map-header">
                        <h3>Shape Map</h3>
                        <button id="shapeMapToggle" class="shape-map-toggle">‚óÄ</button>
                    </div>
                    <div class="shape-map-content">
                        <table class="shape-table">
                            <thead>
                                <tr>
                                    <th>Node</th>
                                    <th>Shape</th>
                                    <th>Scale</th>
                                </tr>
                            </thead>
                            <tbody id="shapeTableBody">
                            </tbody>
                        </table>
                        <p class="shape-map-key">Scale is relative to input spatial size H√óW.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Code Implementation Panel moved to left side -->
    </section>

    </div>

    <!-- Theme Selector moved to header -->

    <!-- Load shared components -->
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/components/Header.js"></script>
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/components/Hero.js"></script>
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/utils/ThemeManager.js"></script>
    <script src="https://ltsach.github.io/AILearningHub/ai-report-components/js/utils/LanguageManager.js"></script>
    
    <!-- Prism.js for code highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    
    <!-- D3.js -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    
    <!-- Custom scripts -->
    <script src="components/D3Visualizer.js"></script>
    <script src="components/CodePanel.js"></script>
    <script src="components/ShapeMap.js"></script>
    <script src="assets/js/resnet50-visualizer.js?v=19"></script>
    <script>
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize header
            const header = new AIHeader('ai-header', {
                title: 'ResNet50 Interactive Visualizer',
                breadcrumbs: [
                    { label: 'Home', url: '../../../index.html', active: false },
                    { label: 'Computer Vision', url: '../../index.html', active: false },
                    { label: 'Network Visualizer', url: '../index.html', active: false },
                    { label: 'ResNet50', url: 'index.html', active: true }
                ]
            });
            
            // Initialize hero section with minimal content
            const hero = new AIHero('ai-hero', {
                title: 'üèóÔ∏è ResNet50 Interactive Visualizer',
                titleVi: 'üèóÔ∏è Tr·ª±c Quan ResNet50 T∆∞∆°ng T√°c',
                subtitle: '',
                subtitleVi: '',
                stats: [],
                gradient: false
            });
            
            // Initialize theme selector
            window.AIThemeManager.createThemeSelector('theme-selector');
            
            // Initialize language manager
            window.AILanguageManager.createLanguageSwitcher('language-switcher');
            
            // Initialize ResNet50 Visualizer
            ResNet50Visualizer.init();
        });
    </script>
</body>
</html>